<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Episodic Scripting</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#fff7cc" id="main">

			<div style="background-color:#fff7cc" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Campaign Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#ffed8c">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search campaign only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#ffed8c">Game Areas</h2>
				<ul>
					<li><strong> > Campaign Index</strong></li>
					<li><a href="../battle/battle_index.html">Battle Index</a></li>
					<li><a href="../frontend/frontend_index.html">Frontend Index</a></li>
				</ul>

				<h2 style="background-color:#ffed8c">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
					</table>
				</div>
					<li><a href="#class:episodic_scripting">Episodic Scripting</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Creation and Usage">Creation and Usage</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:General Querying">General Querying</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:is_new_game">is_new_game</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:is_benchmark_mode">is_benchmark_mode</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:model">model</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:filesystem_lookup">filesystem_lookup</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:compare_localised_string">compare_localised_string</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:is_dlc_flag_enabled">is_dlc_flag_enabled</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Saving and Loading">Saving and Loading</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:save_named_value">save_named_value</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:load_named_value">load_named_value</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_saving_game">disable_saving_game</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:autosave_at_next_opportunity">autosave_at_next_opportunity</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Time Triggers">Time Triggers</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_time_trigger">add_time_trigger</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_time_trigger">remove_time_trigger</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Ending Turn">Ending Turn</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_end_turn">disable_end_turn</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:end_turn">end_turn</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_ai_uses_human_display_speed">set_ai_uses_human_display_speed</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Advisor and Audio">Advisor and Audio</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:dismiss_advice">dismiss_advice</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:dismiss_advice_at_end_turn">dismiss_advice_at_end_turn</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_campaign_vo">trigger_campaign_vo</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Camera">Camera</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_camera_position">set_camera_position</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:get_camera_position">get_camera_position</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:scroll_camera_with_direction">scroll_camera_with_direction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:stop_camera">stop_camera</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:fade_scene">fade_scene</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Movies and Cinematics">Movies and Cinematics</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:register_instant_movie">register_instant_movie</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:register_outro_movie">register_outro_movie</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:play_movie_in_ui">play_movie_in_ui</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cinematic">cinematic</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:UI Manipulation">UI Manipulation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:override_ui">override_ui</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:stop_user_input">stop_user_input</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:steal_user_input">steal_user_input</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:steal_escape_key">steal_escape_key</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:enable_ui">enable_ui</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_shortcut">disable_shortcut</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_unit_model_overrides">add_unit_model_overrides</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:highlight_movement_extents">highlight_movement_extents</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:highlight_selected_character_zoc">highlight_selected_character_zoc</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Markers, VFX and Composite Scenes">Markers, VFX and Composite Scenes</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_marker">add_marker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_marker">remove_marker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_interactable_campaign_marker">add_interactable_campaign_marker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_interactable_campaign_marker">remove_interactable_campaign_marker</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_vfx">add_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_vfx">remove_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_character_vfx">add_character_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_character_vfx">remove_character_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_garrison_residence_vfx">add_garrison_residence_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_garrison_residence_vfx">remove_garrison_residence_vfx</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_scripted_composite_scene_to_logical_position">add_scripted_composite_scene_to_logical_position</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_scripted_composite_scene_to_settlement">add_scripted_composite_scene_to_settlement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_scripted_composite_scene_to_settlement_port">add_scripted_composite_scene_to_settlement_port</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_scripted_composite_scene">remove_scripted_composite_scene</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Shroud">Shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:show_shroud">show_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:take_shroud_snapshot">take_shroud_snapshot</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:restore_shroud_from_snapshot">restore_shroud_from_snapshot</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_neighbouring_regions_visible_in_shroud">make_neighbouring_regions_visible_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_neighbouring_regions_seen_in_shroud">make_neighbouring_regions_seen_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_region_visible_in_shroud">make_region_visible_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_region_seen_in_shroud">make_region_seen_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_sea_region_visible_in_shroud">make_sea_region_visible_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_sea_region_seen_in_shroud">make_sea_region_seen_in_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_movement_for_ai_under_shroud">disable_movement_for_ai_under_shroud</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_shopping_for_ai_under_shroud">disable_shopping_for_ai_under_shroud</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Character and Military Force Creation">Character and Military Force Creation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_force">create_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_force_with_general">create_force_with_general</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_force_with_existing_general">create_force_with_existing_general</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_force_with_full_diplomatic_discovery">create_force_with_full_diplomatic_discovery</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_agent">create_agent</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_agent_at_position">spawn_agent_at_position</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_agent_at_settlement">spawn_agent_at_settlement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_agent_at_military_force">spawn_agent_at_military_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:embed_agent_in_force">embed_agent_in_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_unique_agent">spawn_unique_agent</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_unique_agent_at_region">spawn_unique_agent_at_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_unique_agent_at_character">spawn_unique_agent_at_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_rogue_army">spawn_rogue_army</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_character_to_pool">spawn_character_to_pool</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_character_into_family_tree">spawn_character_into_family_tree</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:find_valid_spawn_location_for_character_from_settlement"><div class="tooltip_container">find_valid_spawn_location_for_character_from_set...<span style="background-color:#fff7cc"  class="tooltip_text">find_valid_spawn_location_for_character_from_settlement</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:find_valid_spawn_location_for_character_from_position"><div class="tooltip_container">find_valid_spawn_location_for_character_from_pos...<span style="background-color:#fff7cc"  class="tooltip_text">find_valid_spawn_location_for_character_from_position</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:find_valid_spawn_location_for_character_from_character"><div class="tooltip_container">find_valid_spawn_location_for_character_from_cha...<span style="background-color:#fff7cc"  class="tooltip_text">find_valid_spawn_location_for_character_from_character</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:appoint_character_to_force">appoint_character_to_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:appoint_character_to_most_expensive_force">appoint_character_to_most_expensive_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:lock_starting_general_recruitment">lock_starting_general_recruitment</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_starting_general_recruitment">unlock_starting_general_recruitment</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Character and Force Manipulation">Character and Force Manipulation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_agent_experience">add_agent_experience</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_agent_experience_through_family_member">add_agent_experience_through_family_member</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_experience_to_units_commanded_by_character">add_experience_to_units_commanded_by_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_character_experience_disabled">set_character_experience_disabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:grant_unit_to_character">grant_unit_to_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:move_to">move_to</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:move_to_queued">move_to_queued</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cancel_actions_for">cancel_actions_for</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:teleport_to">teleport_to</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:join_garrison">join_garrison</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:leave_garrison">leave_garrison</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:attack">attack</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:attack_queued">attack_queued</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:attack_region">attack_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_attack_of_opportunity">force_attack_of_opportunity</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:seek_exchange">seek_exchange</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:replenish_action_points">replenish_action_points</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:zero_action_points">zero_action_points</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:kill_character">kill_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:kill_character_and_commanded_unit">kill_character_and_commanded_unit</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:wound_character">wound_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_agent_action_success_for_human">force_agent_action_success_for_human</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_character_force_into_stance">force_character_force_into_stance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_only_allow_basic_recruit_stance">set_only_allow_basic_recruit_stance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_unit_from_character">remove_unit_from_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_character_immortality">set_character_immortality</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_character_unique">set_character_unique</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:stop_character_convalescing">stop_character_convalescing</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:modify_character_personal_loyalty_factor">modify_character_personal_loyalty_factor</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_attack_of_opportunity_overrides">add_attack_of_opportunity_overrides</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_attack_of_opportunity_overrides">remove_attack_of_opportunity_overrides</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:convert_force_to_type">convert_force_to_type</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_unit_hp_to_unary_of_maximum">set_unit_hp_to_unary_of_maximum</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_army_trespass_disabled">set_army_trespass_disabled</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Area Triggers">Area Triggers</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_circle_area_trigger">add_circle_area_trigger</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_outline_area_trigger">add_outline_area_trigger</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_area_trigger">remove_area_trigger</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_hex_area_trigger">add_hex_area_trigger</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_hex_area_trigger">remove_hex_area_trigger</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Traits, Skills and Ancillaries">Traits, Skills and Ancillaries</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_add_trait">force_add_trait</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_remove_trait">force_remove_trait</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_add_ancillary">force_add_ancillary</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_remove_ancillary">force_remove_ancillary</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_ancillary_to_faction">add_ancillary_to_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_remove_ancillary_from_faction">force_remove_ancillary_from_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_add_skill">force_add_skill</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_skill_point">remove_skill_point</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_reset_skills">force_reset_skills</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_all_background_skills">remove_all_background_skills</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_non_scripted_traits_disabled">set_non_scripted_traits_disabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_non_scripted_ancillaries_disabled">set_non_scripted_ancillaries_disabled</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Object Renaming">Object Renaming</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_localised_faction_name">change_localised_faction_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_custom_faction_name">change_custom_faction_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_custom_settlement_name">change_custom_settlement_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_localised_settlement_name">change_localised_settlement_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_custom_region_name">change_custom_region_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_localised_region_name">change_localised_region_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_custom_unit_name">change_custom_unit_name</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:change_localised_unit_name">change_localised_unit_name</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Province and Faction Mechanics">Province and Faction Mechanics</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_tax_rate">set_tax_rate</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:exempt_region_from_tax">exempt_region_from_tax</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:exempt_province_from_tax_for_all_factions_and_set_default"><div class="tooltip_container">exempt_province_from_tax_for_all_factions_and_se...<span style="background-color:#fff7cc"  class="tooltip_text">exempt_province_from_tax_for_all_factions_and_set_default</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_rebellions_worldwide">disable_rebellions_worldwide</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_rebellion_in_region">force_rebellion_in_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:treasury_mod">treasury_mod</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_public_order_of_province_for_region">set_public_order_of_province_for_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_public_order_disabled_for_province_for_region"><div class="tooltip_container">set_public_order_disabled_for_province_for_regio...<span style="background-color:#fff7cc"  class="tooltip_text">set_public_order_disabled_for_province_for_region</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_public_order_disabled_for_province_for_region_for_all_factions_and_set_default"><div class="tooltip_container">set_public_order_disabled_for_province_for_regio...<span style="background-color:#fff7cc"  class="tooltip_text">set_public_order_disabled_for_province_for_region_for_all_factions_and_set_default</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_development_points_to_region">add_development_points_to_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_imperium_level_change_disabled">set_imperium_level_change_disabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_region_abandoned">set_region_abandoned</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:transfer_region_to_faction">transfer_region_to_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_storm_for_region">create_storm_for_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:heal_garrison">heal_garrison</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_liberation_options_disabled">set_liberation_options_disabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_religion_factors">force_religion_factors</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_unit_to_faction_mercenary_pool">add_unit_to_faction_mercenary_pool</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_units_to_faction_mercenary_pool">add_units_to_faction_mercenary_pool</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_unit_to_province_mercenary_pool">add_unit_to_province_mercenary_pool</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_units_to_province_mercenary_pool_by_region">add_units_to_province_mercenary_pool_by_region</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Missions">Missions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_mission">trigger_mission</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_custom_mission">trigger_custom_mission</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_custom_mission_from_string">trigger_custom_mission_from_string</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cancel_custom_mission">cancel_custom_mission</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_mission_with_targets">trigger_mission_with_targets</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:toggle_mission_generation">toggle_mission_generation</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Scripted Missions">Scripted Missions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_scripted_mission_text">set_scripted_mission_text</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_scripted_mission_position">set_scripted_mission_position</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:complete_scripted_mission_objective">complete_scripted_mission_objective</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Incidents & Dilemmas">Incidents & Dilemmas</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_incident">trigger_incident</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_custom_incident">trigger_custom_incident</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_incident_with_targets">trigger_incident_with_targets</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:toggle_incident_generation">toggle_incident_generation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_dilemma">trigger_dilemma</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_custom_dilemma">trigger_custom_dilemma</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_custom_dilemma_for_character">trigger_custom_dilemma_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_dilemma_with_targets">trigger_dilemma_with_targets</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:toggle_dilemma_generation">toggle_dilemma_generation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:trigger_intrigue">trigger_intrigue</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Events and Suppression">Events and Suppression</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_event_generation_enabled">set_event_generation_enabled</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:show_message_event">show_message_event</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:show_message_event_located">show_message_event_located</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:suppress_all_event_feed_event_types">suppress_all_event_feed_event_types</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:whitelist_event_feed_event_type">whitelist_event_feed_event_type</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:event_feed_event_type_pending">event_feed_event_type_pending</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_event_feed_events">disable_event_feed_events</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Buildings and Slots">Buildings and Slots</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:region_slot_instantly_dismantle_building">region_slot_instantly_dismantle_building</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:region_slot_instantly_upgrade_building">region_slot_instantly_upgrade_building</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:region_slot_instantly_repair_building">region_slot_instantly_repair_building</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:foreign_slot_instantly_dismantle_building">foreign_slot_instantly_dismantle_building</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:foreign_slot_instantly_upgrade_building">foreign_slot_instantly_upgrade_building</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_faction_foreign_slots_from_region">remove_faction_foreign_slots_from_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:instant_set_building_health_percent">instant_set_building_health_percent</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:override_building_chain_display">override_building_chain_display</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_building_to_force">add_building_to_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_building_to_settlement">add_building_to_settlement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_foreign_slot_set_to_region_for_faction">add_foreign_slot_set_to_region_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:instantly_set_settlement_primary_slot_level">instantly_set_settlement_primary_slot_level</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Effect Bundles">Effect Bundles</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle">apply_effect_bundle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle">remove_effect_bundle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle_to_force">apply_effect_bundle_to_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle_from_force">remove_effect_bundle_from_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle_to_characters_force">apply_effect_bundle_to_characters_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle_from_characters_force">remove_effect_bundle_from_characters_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle_to_character">apply_effect_bundle_to_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle_from_character">remove_effect_bundle_from_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle_to_region">apply_effect_bundle_to_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle_from_region">remove_effect_bundle_from_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_effect_bundle_to_faction_province">apply_effect_bundle_to_faction_province</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_effect_bundle_from_faction_province">remove_effect_bundle_from_faction_province</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Custom Effect Bundles">Custom Effect Bundles</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_new_custom_effect_bundle">create_new_custom_effect_bundle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_region">apply_custom_effect_bundle_to_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_faction">apply_custom_effect_bundle_to_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_character">apply_custom_effect_bundle_to_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_force">apply_custom_effect_bundle_to_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_faction_province">apply_custom_effect_bundle_to_faction_province</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_custom_effect_bundle_to_characters_force">apply_custom_effect_bundle_to_characters_force</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Diplomacy">Diplomacy</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_diplomacy_new">force_diplomacy_new</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_declare_war">force_declare_war</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_make_vassal">force_make_vassal</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_alliance">force_alliance</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_grant_military_access">force_grant_military_access</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_make_peace">force_make_peace</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_confederation">force_confederation</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_make_trade_agreement">force_make_trade_agreement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:make_diplomacy_available">make_diplomacy_available</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_offers_peace_to_other_faction">faction_offers_peace_to_other_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_dilemma_diplomatic_bonus">apply_dilemma_diplomatic_bonus</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Restrictions">Restrictions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_event_restricted_unit_record">add_event_restricted_unit_record</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_event_restricted_unit_record">remove_event_restricted_unit_record</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_event_restricted_unit_record_for_faction">add_event_restricted_unit_record_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_event_restricted_unit_record_for_faction">remove_event_restricted_unit_record_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_event_restricted_building_record">add_event_restricted_building_record</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_event_restricted_building_record">remove_event_restricted_building_record</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_event_restricted_building_record_for_faction">add_event_restricted_building_record_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_event_restricted_building_record_for_faction"><div class="tooltip_container">remove_event_restricted_building_record_for_fact...<span style="background-color:#fff7cc"  class="tooltip_text">remove_event_restricted_building_record_for_faction</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:lock_technology">lock_technology</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_technology">unlock_technology</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_movement_for_character">disable_movement_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_movement_for_faction">disable_movement_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:enable_movement_for_character">enable_movement_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:enable_movement_for_faction">enable_movement_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:disable_pathfinding_restriction">disable_pathfinding_restriction</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Racial Mechanics">Racial Mechanics</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:modify_faction_slaves_in_a_faction">modify_faction_slaves_in_a_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:modify_faction_slaves_in_a_faction_province">modify_faction_slaves_in_a_faction_province</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_set_food_factor_multiplier">faction_set_food_factor_multiplier</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_set_food_factor_value">faction_set_food_factor_value</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_mod_food_factor_value">faction_mod_food_factor_value</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_add_pooled_resource">faction_add_pooled_resource</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:perform_ritual">perform_ritual</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:create_new_ritual_setup">create_new_ritual_setup</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:perform_ritual_with_setup">perform_ritual_with_setup</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:rollback_linked_ritual_chain">rollback_linked_ritual_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:lock_ritual">lock_ritual</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_ritual">unlock_ritual</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:lock_ritual_chain">lock_ritual_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_ritual_chain">unlock_ritual_chain</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:lock_rituals_in_category">lock_rituals_in_category</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_rituals_in_category">unlock_rituals_in_category</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_active_ritual">apply_active_ritual</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:apply_active_rituals">apply_active_rituals</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_plague_at_settlement">spawn_plague_at_settlement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_plague_at_region">spawn_plague_at_region</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:spawn_plague_at_military_force">spawn_plague_at_military_force</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_set_unit_purchasable_effect_availability">faction_set_unit_purchasable_effect_availability</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_purchase_unit_effect">faction_purchase_unit_effect</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_set_unit_purchasable_effect_lock_state">faction_set_unit_purchasable_effect_lock_state</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_imprison_character">faction_imprison_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:faction_perform_action_on_prisoner">faction_perform_action_on_prisoner</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cook_recipe">cook_recipe</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cook_recipe_with_ingredients">cook_recipe_with_ingredients</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_cook_recipe">force_cook_recipe</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_cook_recipe_with_ingredients">force_cook_recipe_with_ingredients</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_cooking_ingredient">unlock_cooking_ingredient</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:unlock_cooking_recipe">unlock_cooking_recipe</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:clear_active_cooking_recipe">clear_active_cooking_recipe</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_faction_max_primary_cooking_ingredients">set_faction_max_primary_cooking_ingredients</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:set_faction_max_secondary_cooking_ingredients">set_faction_max_secondary_cooking_ingredients</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:Next Battle & Campaign">Next Battle & Campaign</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:add_custom_battlefield">add_custom_battlefield</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:remove_custom_battlefield">remove_custom_battlefield</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:win_next_autoresolve_battle">win_next_autoresolve_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:modify_next_autoresolve_battle">modify_next_autoresolve_battle</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:skip_winds_of_magic_gambler">skip_winds_of_magic_gambler</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:override_attacker_win_chance_prediction">override_attacker_win_chance_prediction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:pending_battle_add_scripted_tile_upgrade_tag">pending_battle_add_scripted_tile_upgrade_tag</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:pending_battle_remove_scripted_tile_upgrade_tags">pending_battle_remove_scripted_tile_upgrade_tags</a></li>
						<li>&emsp;&emsp;<a href="#section:episodic_scripting:AI">AI</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:force_change_cai_faction_personality">force_change_cai_faction_personality</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_block_all_stances_but_that_specified_towards_target_faction"><div class="tooltip_container">cai_strategic_stance_manager_block_all_stances_b...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_block_all_stances_but_that_specified_towards_target_faction</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_promote_specified_stance_towards_target_faction"><div class="tooltip_container">cai_strategic_stance_manager_promote_specified_s...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_promote_specified_stance_towards_target_faction</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_force_personality_change">cai_force_personality_change</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_force_personality_change_with_override_round_number"><div class="tooltip_container">cai_force_personality_change_with_override_round...<span style="background-color:#fff7cc"  class="tooltip_text">cai_force_personality_change_with_override_round_number</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_force_stance_update_between_factions"><div class="tooltip_container">cai_strategic_stance_manager_force_stance_update...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_force_stance_update_between_factions</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_set_stance_promotion_between_factions_for_a_given_stance"><div class="tooltip_container">cai_strategic_stance_manager_set_stance_promotio...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_set_stance_promotion_between_factions_for_a_given_stance</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_clear_all_promotions_between_factions"><div class="tooltip_container">cai_strategic_stance_manager_clear_all_promotion...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_clear_all_promotions_between_factions</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_set_stance_blocking_between_factions_for_a_given_stance"><div class="tooltip_container">cai_strategic_stance_manager_set_stance_blocking...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_set_stance_blocking_between_factions_for_a_given_stance</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_strategic_stance_manager_clear_all_blocking_between_factions"><div class="tooltip_container">cai_strategic_stance_manager_clear_all_blocking_...<span style="background-color:#fff7cc"  class="tooltip_text">cai_strategic_stance_manager_clear_all_blocking_between_factions</span></div></a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_disable_movement_for_character">cai_disable_movement_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_enable_movement_for_character">cai_enable_movement_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_disable_movement_for_faction">cai_disable_movement_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_enable_movement_for_faction">cai_enable_movement_for_faction</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_disable_command_assignment_for_character">cai_disable_command_assignment_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_enable_command_assignment_for_character">cai_enable_command_assignment_for_character</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_disable_targeting_against_settlement">cai_disable_targeting_against_settlement</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:episodic_scripting:cai_enable_targeting_against_settlement">cai_enable_targeting_against_settlement</a></li>
					</ul>

				</ul>
			</div>

			<div style="background-color:#fff7cc" id="navigation_right">				<h2 style="background-color:#ffed8c">Campaign Topics</h2>
				<ul>
					<li><a href="campaign_index.html">Campaign Index</a></li>
					<li><a href="campaign_script_structure.html">Campaign Script Structure</a></li>
					<li><a href="lua.html">Lua Language</a></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#ffed8c">Game Code Pages</h2>
				<ul>
					<li><a href="campaignui.html">CampaignUI</a></li>
					<li><a href="cinematics.html">Cinematics</a></li>
					<li><a href="effect.html">Effect</a></li>
					<li><strong> > Episodic Scripting</strong></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#ffed8c">Script Pages</h2>
				<ul>
					<li><a href="campaign_manager.html">Campaign Manager</a></li>
					<li><a href="core.html">Core</a></li>
					<li><a href="campaign_cutscene.html">Campaign Cutscenes</a></li>
					<li><a href="campaign_ui_manager.html">Campaign UI Manager</a></li>
					<li><a href="chapter_mission.html">Chapter Missions</a></li>
					<li><a href="convex_area.html">Convex Areas</a></li>
					<li><a href="global.html">Global</a></li>
					<li><a href="infotext_manager.html">Infotext Manager</a></li>
					<li><a href="intervention.html">Interventions</a></li>
					<li><a href="invasion_manager.html">Invasion Manager</a></li>
					<li><a href="mission_manager.html">Mission Managers</a></li>
					<li><a href="objectives_manager.html">Objectives Manager</a></li>
					<li><a href="random_army_manager.html">Random Army Manager</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="unique_table.html">Unique Table</a></li>
					<li><a href="weighted_list.html">Weighted List</a></li>

				</ul>
			</div>

			<div id="content">
				<a name="class:episodic_scripting"><h1 class="content_header">Episodic Scripting</h1></a>
				<p>The episodic scripting interface is one of the two main interface provided by the campaign model to script. Unlike the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code>, which is used to query the state of the model, the episodic scripting interface is primarily used to make changes to the model.</p>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Loaded in Campaign
									</td>
									<td>
										<img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Creation and Usage"><h2 class="section_header">Creation and Usage</h2></a>
				</div>
				<p>This interface is automatically created and cached by the <code><a href="campaign_manager.html#class:campaign_manager">campaign_manager</a></code> when the <code>NewSession</code> event is triggered. This happens very early in the loading sequence. Once created, functions on the episodic scripting interface may be called by calling the campaign manager.</p>

				<h4>Example - Specification:</h4>
				<div id="example_code"><code>
					 -- assumes a campaign manager object called cm<br />
					 cm:dismiss_advice()<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Character Lookups"><h2 class="section_header">Character Lookups</h2></a>
				</div>
				<p>Many function on the campaign manager perform actions on a character and/or the military force he or she commands. The character to perform the action on is commonly specified by a character lookup string. A character lookup string must be composed from one or more filters. See the table below for a list of filter types.</p>
				<p><table class="simple"></p>
				<p><tr><th>filter name</th><th>description</th></tr></p>
				<p><tr><td><code>faction</code></td><td>Faction key, from the <code>factions</code> table.</td></tr></p>
				<p><tr><td><code>type</code></td><td>Agent type, from the <code>agent_types</code> table.</td></tr></p>
				<p><tr><td><code>ability</code></td><td>Agent ability, from the <code>abilities</code> table.</td></tr></p>
				<p><tr><td><code>forename</code></td><td>Forename, from the <code>names</code> table.</td></tr></p>
				<p><tr><td><code>surname</code></td><td>Surname, from the <code>names</code> table.</td></tr></p>
				<p><tr><td><code>x</code></td><td>Display x co-ordinate - must be used in conjection with a y display co-ordinate and a radius.</td></tr></p>
				<p><tr><td><code>y</code></td><td>Display y co-ordinate - must be used in conjection with an x display co-ordinate and a radius.</td></tr></p>
				<p><tr><td><code>r</code></td><td>Radius around specified x/y display position.</td></tr></p>
				<p><tr><td><code>garrison</code></td><td>Settlement name of a garrison to look in, from the <code>campaign_map_settlements</code> table.</td></tr></p>
				<p><tr><td><code>character_cqi</code></td><td>The command queue index of a character. This is always unique.</td></tr></table></p>
				<p>Should the filters specified in the character lookup string return more than one eligible character then only the first of these is used in the function call. Generally, it's a good idea to ensure that filters will only return one character, so it's strongly recommended to solely use the <code>character_cqi</code> filter which will only ever match one character.</p>
				<p>A filter may be specified in the lookup string in the form <code>&lt;filter_name&gt;:&lt;filter_value&gt;</code>. Multiple filters may be specified in a lookup string, separated by a comma. Furthermore, the campaign manager function <code><a href="campaign_manager.html#function:campaign_manager:char_lookup_str">campaign_manager:char_lookup_str</a></code> can also be used to convert a character object, or its cqi number, into a character lookup string.</p>

				<h4>Example - Add trait to a character from the Empire faction at a display position [123,456]:</h4>
				<div id="example_code"><code>
					 cm:force_add_trait("faction:wh_main_emp_empire,x:123,y:456,r:1", "trait_general_good", true)<br />
				</code></div>

				<h4>Example - Remove all action points from a character with cqi 45:</h4>
				<div id="example_code"><code>
					 cm:zero_action_points("character_cqi:45")<br />
				</code></div>

				<h4>Example - Use the <code>char_lookup_str</code> function to disable movement for the faction leader of the Greenskins:</h4>
				<div id="example_code"><code>
					 local char_grn_faction_leader = cm:get_faction("wh_main_grn_greenskins"):faction_leader()<br />
					 cm:disable_movement_for_character(cm:char_lookup_str(char_grn_faction_leader))<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:General Querying"><h2 class="section_header">General Querying</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:is_new_game"><h3 class="function_name"><strong><code>cm:is_new_game()</code></strong></h3></a>
						</dt>
						<dd>
							Returns <code>true</code> if this a new campaign game, or <code>false</code> otherwise. A new game is one that has yet to be saved and reloaded.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is new game</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:is_benchmark_mode"><h3 class="function_name"><strong><code>cm:is_benchmark_mode()</code></strong></h3></a>
						</dt>
						<dd>
							Returns <code>true</code> if this campaign is running in benchmark mode, meaning it was launched from the benchmark section in the graphics options.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> is benchmark mode</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:model"><h3 class="function_name"><strong><code>cm:model()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a handle to the campaign model object.


							<h4>Returns:</h4>
							<ol>
								<li><code>userdata</code> campaign model</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:filesystem_lookup"><h3 class="function_name"><strong><code>cm:filesystem_lookup(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">path</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Perform a VFS lookup in the specified path (root is the data folder) for files matching the pattern. Returns a comma-delimited list of files found.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>path</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:string">string</a></code></code> file list</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:compare_localised_string"><h3 class="function_name"><strong><code>cm:compare_localised_string(<code><a href="uicomponent.html#class:uicomponent">uicomponent</a></code> </strong></code><i class="parameter">uicomponent</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">label string</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the supplied label string matches the text of a supplied uicomponent, taking localisation into account.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="uicomponent.html#class:uicomponent">uicomponent</a></code></code></p>
									</td>
									<td>
										<p>uicomponent</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>label string</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> localisation matches</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:is_dlc_flag_enabled"><h3 class="function_name"><strong><code>cm:is_dlc_flag_enabled(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">dlc key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether the dlc with the specified key is activated.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>dlc key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>dlc</code> flag enabled</li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Saving and Loading"><h2 class="section_header">Saving and Loading</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:save_named_value"><h3 class="function_name"><strong><code>cm:save_named_value(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">value name</i><code><strong>, data </strong></code><i class="parameter">value to save</i><code><strong>, context </strong></code><i class="parameter">context object</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Write a value to the savegame. This should only be called when the <code>SavingGame</code> event is received, and must be passed the context object supplied by that event.<br />
							It's recommended to use the saving functions provided by the campaign manager, listed in the <code><a href="campaign_manager.html#section:campaign_manager:Saving Game">Saving Game</a></code> section of this documentation, instead of directly calling this function.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Value name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>data</code></p>
									</td>
									<td>
										<p>Value to save. Can be a <code><a href="lua.html#class:boolean">boolean</a></code>, <code><a href="lua.html#class:number">number</a></code> or <code><a href="lua.html#class:string">string</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>context</code></p>
									</td>
									<td>
										<p>context object</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:load_named_value"><h3 class="function_name"><strong><code>cm:load_named_value(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">value name</i><code><strong>, data </strong></code><i class="parameter">default value</i><code><strong>, context </strong></code><i class="parameter">context object</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Reads a value from a loading game. Should only be called when the <code>LoadingGame</code> event is received, and must be passed the context object supplied by that event.<br />
							It's recommended to use the loading functions provided by the campaign manager, listed in the <code><a href="campaign_manager.html#section:campaign_manager:Loading Game">Loading Game</a></code> section of this documentation, instead of directly calling this function.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Value name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>data</code></p>
									</td>
									<td>
										<p>This defines the type of the value to load from the savegame and also a default value which will be returned if no value with the specified name could be found in the savegame. Can be a <code><a href="lua.html#class:boolean">boolean</a></code>, <code><a href="lua.html#class:number">number</a></code> or <code><a href="lua.html#class:string">string</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>context</code></p>
									</td>
									<td>
										<p>context object</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>data</code> saved value, either a <code><a href="lua.html#class:boolean">boolean</a></code>, <code><a href="lua.html#class:number">number</a></code> or <code><a href="lua.html#class:string">string</a></code>.</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_saving_game"><h3 class="function_name"><strong><code>cm:disable_saving_game(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents or allows the saving of the game.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:autosave_at_next_opportunity"><h3 class="function_name"><strong><code>cm:autosave_at_next_opportunity()</code></strong></h3></a>
						</dt>
						<dd>
							Autosave the game at the next opportunity.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Time Triggers"><h2 class="section_header">Time Triggers</h2></a>
				</div>
				<p>The functions described in this section grant raw access to the creation and removal of time triggers in campaign. While it's possible to use them directly it is highly recommended to use the wrapper functions provided by the <code><a href="campaign_manager.html#class:campaign_manager">campaign_manager</a></code> object in script. These are listed in the <code><a href="campaign_manager.html#section:campaign_manager:Timer Callbacks">Timer Callbacks</a></code> section of this documentation.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_time_trigger"><h3 class="function_name"><strong><code>cm:add_time_trigger(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">interval</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">repeat</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Register a time trigger, in seconds. This will cause a <code>TimeTrigger</code> event to trigger after the specified interval.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID for this time trigger. This will be supplied with the <code>TimeTrigger</code> event when it is triggered.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Interval after which to trigger the <code>TimeTrigger</code> event, in seconds.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Repeats the time trigger if set to <code>true</code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_time_trigger"><h3 class="function_name"><strong><code>cm:remove_time_trigger(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a time trigger by <code><a href="lua.html#class:string">string</a></code> id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Ending Turn"><h2 class="section_header">Ending Turn</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_end_turn"><h3 class="function_name"><strong><code>cm:disable_end_turn(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents or allows ending turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:end_turn"><h3 class="function_name"><strong><code>cm:end_turn([<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Ends the turn for the current faction, optionally forcing at the next opportunity. This optional flag should only be set for a player faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>force</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_ai_uses_human_display_speed"><h3 class="function_name"><strong><code>cm:set_ai_uses_human_display_speed(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use human speed </i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces or un-forces any characters visible to humans to move at normal speed during the end-turn sequence. Overrides set using this function are saved into the savegame.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>use human speed </p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Advisor and Audio"><h2 class="section_header">Advisor and Audio</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:dismiss_advice"><h3 class="function_name"><strong><code>cm:dismiss_advice()</code></strong></h3></a>
						</dt>
						<dd>
							Dismisses the advisor panel.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:dismiss_advice_at_end_turn"><h3 class="function_name"><strong><code>cm:dismiss_advice_at_end_turn(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should dismiss</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Set whether or not advice should be dismissed on ending turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should dismiss</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_campaign_vo"><h3 class="function_name"><strong><code>cm:trigger_campaign_vo(<br />&emsp;&emsp;Triggers </strong></code><i class="parameter">campaign voiceover audio at a character's 3D position. The character specified also partially specifies the path by which the voiceover sound is looked up.</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">sound event</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">delay</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>Triggers</code></p>
									</td>
									<td>
										<p>campaign voiceover audio at a character's 3D position. The character specified also partially specifies the path by which the voiceover sound is looked up.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Sound event name.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Delay in seconds before triggering the vo.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Camera"><h2 class="section_header">Camera</h2></a>
				</div>
				<p>The functions in this section make use of camera co-ordinates. These are specified by five numeric components:</p>
				<p><ol><li>display x co-ordinate of camera target</li></p>
				<p><li>display y co-ordinate of camera target</li></p>
				<p><li>horizontal distance from target to camera</li></p>
				<p><li>horizontal bearing in radians of target from camera</li></p>
				<p><li>height of camera</li></ol></p>

				<h4>Example - scroll_camera_with_direction usage:</h4>
					Example of <code><a href="#function:episodic_scripting:scroll_camera_with_direction">cm:scroll_camera_with_direction</a></code> usage showing multiple groups of co-ordinates supplied in <code><a href="lua.html#class:table">table</a></code> containers.
				<div id="example_code"><code>
					 cm:scroll_camera_with_direction(true, 7, {490.8, 276.6, 5.6, 1.01, 4.0}, {491.0, 276.0, 5.6, 1.59, 4.0}) <br />
				</code></div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_camera_position"><h3 class="function_name"><strong><code>cm:set_camera_position(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">d</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">b</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">h</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Repositions the camera to the specified co-ordinates.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Display x co-ordinate of camera target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Display y co-ordinate of camera target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Horizontal distance from camera to target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Horizontal bearing in radians of target from camera.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Height of camera.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:get_camera_position"><h3 class="function_name"><strong><code>cm:get_camera_position()</code></strong></h3></a>
						</dt>
						<dd>
							Returns the current position of the camera.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> x, Display x co-ordinate of camera target.</li>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> y, Display y co-ordinate of camera target.</li>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> d, Horizontal distance from camera to target.</li>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> b, Horizontal bearing in radians of target from camera.</li>
								<li><code><code><a href="lua.html#class:number">number</a></code></code> h, Height of camera.</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:scroll_camera_with_direction"><h3 class="function_name"><strong><code>cm:scroll_camera_with_direction(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">adjust endpoint</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">scroll time</i><code><strong>, vararg </strong></code><i class="parameter">co-ordinate list</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Scroll the camera along a list of co-ordinates that define a spline. 

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Adjust the endpoint to be valid for gameplay. Set this to <code>true</code> if control is to be restored to the player after this camera movement finishes. Set to <code>false</code> if another camera movement follows this one.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Scroll time in seconds</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>vararg</code></p>
									</td>
									<td>
										<p>Vararg list of co-ordinates. Each co-ordinate must be specified in a <code><a href="lua.html#class:table">table</a></code> containing five <code><a href="lua.html#class:number">number</a></code> co-ordinate components.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:stop_camera"><h3 class="function_name"><strong><code>cm:stop_camera()</code></strong></h3></a>
						</dt>
						<dd>
							Stops a scrolling camera.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:fade_scene"><h3 class="function_name"><strong><code>cm:fade_scene(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">brightness</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Fades the scene to black or back to picture over a specified period.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Brightness, as a unary value. Supply a value of <code>0</code> to fade to black, supply a value of <code>1</code> to fade to picture, or supply a value in between to transition to a partially-faded picture.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration of the fade effect in seconds.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Movies and Cinematics"><h2 class="section_header">Movies and Cinematics</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:register_instant_movie"><h3 class="function_name"><strong><code>cm:register_instant_movie(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">movie path</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Plays a fullscreen movie, by path from the <code>data/Movies</code> directory.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>movie path</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:register_outro_movie"><h3 class="function_name"><strong><code>cm:register_outro_movie(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">movie path</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Plays a fullscreen movie for an outro, by path from the <code>data/Movies</code> directory. The campaign will exit once playback has completed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>movie path</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:play_movie_in_ui"><h3 class="function_name"><strong><code>cm:play_movie_in_ui(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">movie path</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Plays a movie in the movie panel, by path from the <code>data/Movies</code> directory.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>movie path</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cinematic"><h3 class="function_name"><strong><code>cm:cinematic()</code></strong></h3></a>
						</dt>
						<dd>
							Returns a cinematic script interface.


							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="cinematics.html#class:cinematics">cinematics</a></code></code> cinematic interface</li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:UI Manipulation"><h2 class="section_header">UI Manipulation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:override_ui"><h3 class="function_name"><strong><code>cm:override_ui(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ui override name</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">activate override</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Activates or deactivates a ui override.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ui override name</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>activate override</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:stop_user_input"><h3 class="function_name"><strong><code>cm:stop_user_input(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">stop input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Stops or allows user input.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>stop input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:steal_user_input"><h3 class="function_name"><strong><code>cm:steal_user_input(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">steal input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Steals user input, so that input notifications are redirected to script. When keypresses are stolen by script the game calls a function called <code>OnKeyPressed</code> when a keypress occurs. This function can be declared in script to receive these notifications.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>steal input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:steal_escape_key"><h3 class="function_name"><strong><code>cm:steal_escape_key(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">steal escape key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Steals the ESC key, so that keypresses on it are redirected to script. When keypresses are stolen by script the game calls a function called <code>OnKeyPressed</code> when a keypress occurs. This function can be declared in script to receive these notifications.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>steal escape key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:enable_ui"><h3 class="function_name"><strong><code>cm:enable_ui(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">enable ui</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enables or disables the user interface.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>enable ui</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_shortcut"><h3 class="function_name"><strong><code>cm:disable_shortcut(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">component id</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">function id</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables a shortcut by name. Shortcuts can be looked up in <code>data/text/default_keys.xml</code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Component id, specified by the <code>component</code> attibute of a <code>func</code> element.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Function id, specified by the <code>name</code> attribute of a <code>func</code> element.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Should disable.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_unit_model_overrides"><h3 class="function_name"><strong><code>cm:add_unit_model_overrides(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">model key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Swap a model for a certain character. This needs to be set up at a new session.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>model key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:highlight_movement_extents"><h3 class="function_name"><strong><code>cm:highlight_movement_extents(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should highlight</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Causes movement extents surrounded a selected character in the game to flash or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should highlight</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:highlight_selected_character_zoc"><h3 class="function_name"><strong><code>cm:highlight_selected_character_zoc(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should highlight</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Causes the zone of control surrounding a selected character in the game to flash or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should highlight</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Markers, VFX and Composite Scenes"><h2 class="section_header">Markers, VFX and Composite Scenes</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_marker"><h3 class="function_name"><strong><code>cm:add_marker(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">marker id</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">marker type</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">height</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Add a marker at a specified display position, using a specified marker type. These markers are distinct from VFX in that they are generally 2D, clickable UI elements at a position on the battlefield.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique id for this marker, by which it may be later removed.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Marker type. Supported marker types are <code>move_to</code>, <code>select</code>, <code>pointer</code>, <code>move_to_vfx</code>, <code>select_vfx</code>, <code>look_at_vfx</code> and <code>objective</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>x display position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>y display position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>height above water plane.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_marker"><h3 class="function_name"><strong><code>cm:remove_marker(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">marker id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a marker previously added using <code><a href="#function:episodic_scripting:add_marker">cm:add_marker</a></code>, by marker id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>marker id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_interactable_campaign_marker"><h3 class="function_name"><strong><code>cm:add_interactable_campaign_marker(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unique id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">marker info</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">radius</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subculture key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Add an interactable campaign marker of a specified type to the campaign map at a specified location. A radius around the marker is specified. As matching campaign characters enter or leave this radius then <code>AreaEntered</code>/<code>AreaExited</code> events will be triggered.<br />
							Subculture and faction keys can be specified in order to filter what campaign characters should trigger the proximity events.<br />
							Interactable campaign markers can be used for game features such as encounters at sea.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique id for this campaign marker, by which it may be later removed with <code><a href="#function:episodic_scripting:remove_interactable_campaign_marker">cm:remove_interactable_campaign_marker</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Marker info key. This should match a record from the <code>campaign_interactable_marker_infos</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x position for the marker.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y position for the marker.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Radius around the position at which to trigger <code>AreaEntered</code>/<code>AreaExited</code> events.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key filter. A blank string can be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Subculture key filter. A blank string can be supplied to omit this.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_interactable_campaign_marker"><h3 class="function_name"><strong><code>cm:remove_interactable_campaign_marker(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unique id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes an interactable campaign marker that was previously added with <code><a href="#function:episodic_scripting:add_interactable_campaign_marker">cm:add_interactable_campaign_marker</a></code>, by unique id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>unique id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_vfx"><h3 class="function_name"><strong><code>cm:add_vfx(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx id</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">height</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a vfx of a specified type at a specified display position. VFX are distinct from markers in that they are generally 3D graphical effects.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique id for this vfx, by which it may later be removed with <code><a href="#function:episodic_scripting:remove_vfx">cm:remove_vfx</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>VFX type. This must be an entry from the <code>vfx_event</code> field of the <code>campaign_vfx_lookups</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>x display position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>y display position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>height above water plane.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_vfx"><h3 class="function_name"><strong><code>cm:remove_vfx(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a vfx previously added with <code><a href="#function:episodic_scripting:add_vfx">cm:add_vfx</a></code>, by vfx id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>vfx id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_character_vfx"><h3 class="function_name"><strong><code>cm:add_character_vfx(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in shroud</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a vfx to a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command queue index of the character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>VFX type. This must be an entry from the <code>vfx_event</code> field of the <code>campaign_vfx_lookups</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Show this vfx even when the character is under the shroud.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_character_vfx"><h3 class="function_name"><strong><code>cm:remove_character_vfx(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a vfx from a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command queue index of the character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>VFX type. This must be an entry from the <code>vfx_event</code> field of the <code>campaign_vfx_lookups</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_garrison_residence_vfx"><h3 class="function_name"><strong><code>cm:add_garrison_residence_vfx(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">garrison residence cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in shroud</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a vfx to a specified garrison residence/settlement.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command queue index of the garrison residence.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>VFX type. This must be an entry from the <code>vfx_event</code> field of the <code>campaign_vfx_lookups</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Show this vfx even when the garrison residence is under the shroud.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_garrison_residence_vfx"><h3 class="function_name"><strong><code>cm:remove_garrison_residence_vfx(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vfx</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a vfx from a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command queue index of the character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>VFX type. This must be an entry from the <code>vfx_event</code> field of the <code>campaign_vfx_lookups</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_scripted_composite_scene_to_logical_position"><h3 class="function_name"><strong><code>cm:add_scripted_composite_scene_to_logical_position(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">composite scene</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">one shot</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in seen shroud</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in unseen shroud</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a composite scene at a specified logical position.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique name for this composite scene, by which it may later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Composite scene key from the <code>campaign_composite_scenes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>One shot - if set to <code>true</code>, this composite scene is not added to the internal list of scenes and can't later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>. However, the name of one-shot scenes does not have to be unique.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thin shroud over previously-seen terrain.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thick shroud over unseen terrain.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> action successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_scripted_composite_scene_to_settlement"><h3 class="function_name"><strong><code>cm:add_scripted_composite_scene_to_settlement(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">composite scene</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">one shot</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in seen shroud</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in unseen shroud</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a composite scene to a specified settlement.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique name for this composite scene, by which it may later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Composite scene key from the <code>campaign_composite_scenes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of settlement to add the scene to, from the <code>campaign_map_settlements</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>One shot - if set to <code>true</code>, this composite scene is not added to the internal list of scenes and can't later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>. However, the name of one-shot scenes does not have to be unique.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thin shroud over previously-seen terrain.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thick shroud over unseen terrain.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> action successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_scripted_composite_scene_to_settlement_port"><h3 class="function_name"><strong><code>cm:add_scripted_composite_scene_to_settlement_port(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">composite scene</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">facing y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">one shot</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in seen shroud</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show in unseen shroud</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a composite scene to the port slot of a specified settlement.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique name for this composite scene, by which it may later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Composite scene key from the <code>campaign_composite_scenes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of settlement to add the scene to, from the <code>campaign_map_settlements</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of a position this composite scene faces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>One shot - if set to <code>true</code>, this composite scene is not added to the internal list of scenes and can't later be removed with <code><a href="#function:episodic_scripting:remove_scripted_composite_scene">cm:remove_scripted_composite_scene</a></code>. However, the name of one-shot scenes does not have to be unique.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thin shroud over previously-seen terrain.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this composite scene should be drawn when in thick shroud over unseen terrain.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> action successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_scripted_composite_scene"><h3 class="function_name"><strong><code>cm:remove_scripted_composite_scene(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a composite scene previously added by script, by the unique name given.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Shroud"><h2 class="section_header">Shroud</h2></a>
				</div>
				<p>The shroud is the fog of war covering areas on the campaign map that have yet to be seen. The shroud on a region - the area surrounding and associated with a settlement - may be either covered, seen or visible.</p>
				<p><ul><li>Covered regions are shown with thick shroud which obscures land features, settlements and characters.</li></p>
				<p><li>Seen regions are shown with thin shroud through which settlements and land features are shown, but not characters.</li></p>
				<p><li>Visible regions are fully displayed.</li></ul></p>
				<p>The following functions allow some manipulation of the shroud. In all cases, the shroud is recalculated during the end-turn sequence, so modifications to the shroud are lost and have to re-applied at the start of the round or player's turn.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:show_shroud"><h3 class="function_name"><strong><code>cm:show_shroud(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enables or disables the shroud.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>show</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:take_shroud_snapshot"><h3 class="function_name"><strong><code>cm:take_shroud_snapshot()</code></strong></h3></a>
						</dt>
						<dd>
							Caches the state of the shroud across the map, so that it may later be recalled with <code><a href="#function:episodic_scripting:restore_shroud_from_snapshot">cm:restore_shroud_from_snapshot</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:restore_shroud_from_snapshot"><h3 class="function_name"><strong><code>cm:restore_shroud_from_snapshot()</code></strong></h3></a>
						</dt>
						<dd>
							Restores the state of the shroud across the map after it has been cached with <code><a href="#function:episodic_scripting:take_shroud_snapshot">cm:take_shroud_snapshot</a></code>.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_neighbouring_regions_visible_in_shroud"><h3 class="function_name"><strong><code>cm:make_neighbouring_regions_visible_in_shroud()</code></strong></h3></a>
						</dt>
						<dd>
							Makes all neighbouring regions visible in the shroud, for all factions. This effect will persist until the next round.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_neighbouring_regions_seen_in_shroud"><h3 class="function_name"><strong><code>cm:make_neighbouring_regions_seen_in_shroud()</code></strong></h3></a>
						</dt>
						<dd>
							Makes all neighbouring regions seen in the shroud, for all factions. This effect will persist until the next round.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_region_visible_in_shroud"><h3 class="function_name"><strong><code>cm:make_region_visible_in_shroud(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the shroud from a specified land region for a specific faction. The region specified must be a land region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_region_seen_in_shroud"><h3 class="function_name"><strong><code>cm:make_region_seen_in_shroud(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the shroud state of a specified land region to seen, for a specific faction. The region specified must be a land region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_sea_region_visible_in_shroud"><h3 class="function_name"><strong><code>cm:make_sea_region_visible_in_shroud(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the shroud from a specified sea region for all factions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_sea_region_seen_in_shroud"><h3 class="function_name"><strong><code>cm:make_sea_region_seen_in_shroud(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the shroud state of a specified sea region for all factions to seen. The specified region must be a sea region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_movement_for_ai_under_shroud"><h3 class="function_name"><strong><code>cm:disable_movement_for_ai_under_shroud(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">player faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ai faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes all action points for characters from the specified target faction if they are hidden under the shroud of the specified player faction. This is a one-time action, and should be called each turn if it's desired that AI movement for a faction be stopped until 'discovered' by the player.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>player faction key</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ai faction key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_shopping_for_ai_under_shroud"><h3 class="function_name"><strong><code>cm:disable_shopping_for_ai_under_shroud(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents all factions hidden under the shroud from constructing or repairing buildings. Unlike other functions documented here this is a game-wide toggle and does not need to be set each turn. This should only be used in a singleplayer game.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Character and Military Force Creation"><h2 class="section_header">Character and Military Force Creation</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_force"><h3 class="function_name"><strong><code>cm:create_force(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit list</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">exclude unique characters</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Creates an army or a navy at the specified position, belonging to the specified faction, with the specified list of units. If the faction doesn't exist on the campaign map then it will also be created.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit list. This should be a comma-separated list of unit keys from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region in which the force is created, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID of force. A <code>ScriptedForceCreated</code> event is triggered once the military force is created, and this ID is included in the context of the event so that listening scripts can differentiate between multiple created forces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Prevent this force from having a unique character appointed as its general.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send this command via the command queue. Setting this to <code>true</code> will cause a delay of a game tick or two before the force is created.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_force_with_general"><h3 class="function_name"><strong><code>cm:create_force_with_general(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit list</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character type</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character subtype</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">forename</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">clanname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">surname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">other name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">make faction leader</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Creates an army or a navy commanded by a specified character at the specified position, belonging to the specified faction, with the specified list of units. If the faction doesn't exist on the campaign map then it will also be created.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit list. This should be a comma-separated list of unit keys from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region in which the force is created, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character type key, from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character subtype key, from the <code>agent_subtypes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Forename id. This should be a value from the <code>id</code> field of the <code>names</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Clan name id. This should be a value from the <code>id</code> field of the <code>names</code> table. This can be used to grant a title such as "Admiral" or "Emperor". A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Surname id. This should be a value from the <code>id</code> field of the <code>names</code> table. A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>11</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Other name id. This should be a value from the <code>id</code> field of the <code>names</code> table. This is currently unused and should be set to a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>12</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID of force. A <code>ScriptedForceCreated</code> event is triggered once the military force is created, and this ID is included in the context of the event so that listening scripts can differentiate between multiple created forces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>13</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Make this character the faction leader.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_force_with_existing_general"><h3 class="function_name"><strong><code>cm:create_force_with_existing_general(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit list</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Creates an army or a navy commanded by a specified existing character at the specified position, belonging to the specified faction, with the specified list of units.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string specifying the character to appoint as force commander. See <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit list. This should be a comma-separated list of unit keys from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region in which the force is created, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID of force. A <code>ScriptedForceCreated</code> event is triggered once the military force is created, and this ID is included in the context of the event so that listening scripts can differentiate between multiple created forces.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_force_with_full_diplomatic_discovery"><h3 class="function_name"><strong><code>cm:create_force_with_full_diplomatic_discovery(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit list</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">exclude unique characters</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Creates an army or a navy commanded by a specified existing character at the specified position, belonging to the specified faction, with the specified list of units.<br />
							This command is distinct from <code><a href="#function:episodic_scripting:create_force">cm:create_force</a></code> in that it forces factions who can see the created force to be diplomatically aware of the force's faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit list. This should be a comma-separated list of unit keys from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region in which the force is created, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID of force. A <code>ScriptedForceCreated</code> event is triggered once the military force is created, and this ID is included in the context of the event so that listening scripts can differentiate between multiple created forces.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Prevent this force from having a unique character appointed as its general.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send this command via the command queue. Setting this to <code>true</code> will cause a delay of a game tick or two before the force is created.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_agent"><h3 class="function_name"><strong><code>cm:create_agent(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent type</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent subtype</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Create an agent/hero character at a specified position.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent type from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent subtype from the <code>agent_subtypes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>ID of agent. A <code>ScriptedAgentCreated</code> event is triggered once the character is created, and this ID is included in the context of the event so that listening scripts can differentiate between multiple created agents.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send this command via the command queue. Setting this to <code>true</code> will cause a delay of a game tick or two before the force is created.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_agent_at_position"><h3 class="function_name"><strong><code>cm:spawn_agent_at_position(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent type</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent subtype</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns an agent of the specified type at the specified logical position.<br />
							See the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information on the <code>FACTION_SCRIPT_INTERFACE</code> interface.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction interface for the agent's faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>x logical co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>y logical co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent type key, from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=""</i></p>
										<p>Agent subtype key, from the <code>agent_subtypes</code> table. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_agent_at_settlement"><h3 class="function_name"><strong><code>cm:spawn_agent_at_settlement(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;SETTLEMENT_SCRIPT_INTERFACE </strong></code><i class="parameter">settlement</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent type</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent subtype</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns an agent of the specified type next to the specified settlement.<br />
							See the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information on the <code>FACTION_SCRIPT_INTERFACE</code> or <code>SETTLEMENT_SCRIPT_INTERFACE</code> interfaces.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction interface for the agent's faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>SETTLEMENT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Settlement at which to spawn the agent.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent type key, from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=""</i></p>
										<p>Agent subtype key, from the <code>agent_subtypes</code> table. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_agent_at_military_force"><h3 class="function_name"><strong><code>cm:spawn_agent_at_military_force(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;MILITARY_FORCE_SCRIPT_INTERFACE </strong></code><i class="parameter">force</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent type</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent subtype</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns an agent of the specified type next to the specified military force.<br />
							See the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information on the <code>FACTION_SCRIPT_INTERFACE</code> or <code>MILITARY_FORCE_SCRIPT_INTERFACE</code> interfaces.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction interface for the agent's faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>MILITARY_FORCE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Military force at which to spawn the agent.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent type key, from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=""</i></p>
										<p>Agent subtype key, from the <code>agent_subtypes</code> table. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:embed_agent_in_force"><h3 class="function_name"><strong><code>cm:embed_agent_in_force(CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">agent</i><code><strong>, MILITARY_FORCE_SCRIPT_INTERFACE </strong></code><i class="parameter">military force</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly embed the specified agent in the specified force. The agent will teleport into the force, disregarding normal restrictions other than that force being under siege. See the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information on the <code>CHARACTER_SCRIPT_INTERFACE</code> or <code>MILITARY_FORCE_SCRIPT_INTERFACE</code> interfaces.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>agent</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>MILITARY_FORCE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>military force</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_unique_agent"><h3 class="function_name"><strong><code>cm:spawn_unique_agent(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Creates a unique agent.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Faction cqi.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent record key, from the <code>unique_agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Force agent to spawn even if invalid.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_unique_agent_at_region"><h3 class="function_name"><strong><code>cm:spawn_unique_agent_at_region(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Creates a unique agent in a specified region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Faction cqi.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent record key, from the <code>unique_agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The cqi of the target region.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Force agent to spawn even if invalid.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_unique_agent_at_character"><h3 class="function_name"><strong><code>cm:spawn_unique_agent_at_character(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Creates a unique agent at or near the position of a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Faction cqi.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent record key, from the <code>unique_agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The cqi of the target character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Force agent to spawn even if invalid.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_rogue_army"><h3 class="function_name"><strong><code>cm:spawn_rogue_army(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns a rogue army of a specified rogue army faction, at a specified position. This command will fail if the rogue army is already alive or is flagged to naturally spawn.<br />
							<code><a href="lua.html#class:string">string</a></code> faction key, Faction key, from the <code>factions</code> database table.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_character_to_pool"><h3 class="function_name"><strong><code>cm:spawn_character_to_pool(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">forename</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">surname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">clanname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">othername</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">age</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">male</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">agent subtype key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immortal</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">art set</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns a new character in the specified faction's recruitment pool.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Forename key. This should be a value from the <code>id</code> field of the <code>names</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Surname key. This should be a value from the <code>id</code> field of the <code>names</code> table. A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Clan name key. This should be a value from the <code>id</code> field of the <code>names</code> table. This can be used to grant a title such as "Admiral" or "Emperor". A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Other name key.  This should be a value from the <code>id</code> field of the <code>names</code> table. This is currently unused and should be set to a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Age of character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set this character to be male or female.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent record key, from the <code>agents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Agent subtype key, from the <code>agent_subtypes</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this character is immortal.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>11</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Art set override id, from the <code>campaign_character_art_sets</code> table. A blank string may be supplied to omit this.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_character_into_family_tree"><h3 class="function_name"><strong><code>cm:spawn_character_into_family_tree(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">forename</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">surname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">clanname</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">othername</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">age</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">male</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">father</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mother</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">immortal</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">art set</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">make heir</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Spawns a new character into a position in the family tree of the specified faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Forename key. This should be a value from the <code>id</code> field of the <code>names</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Surname key. This should be a value from the <code>id</code> field of the <code>names</code> table. A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Clan name key. This should be a value from the <code>id</code> field of the <code>names</code> table. This can be used to grant a title such as "Admiral" or "Emperor". A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Other name key.  This should be a value from the <code>id</code> field of the <code>names</code> table. This is currently unused and should be set to a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Age of character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set this character to be male or female.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string specifying the father of the spawned character. For more information see the documentation on <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string specifying the mother of the spawned character. For more information see the documentation on <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether this character is immortal.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>11</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Art set override id, from the <code>campaign_character_art_sets</code> table. A blank string may be supplied to omit this.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>12</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Make this character the faction heir.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:find_valid_spawn_location_for_character_from_settlement"><h3 class="function_name"><strong><code>cm:find_valid_spawn_location_for_character_from_settlement(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">on sea</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">in same region</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">preferred spawn distance</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Utilises the pathfinder to locate and return a valid spawn point for a character, based around a settlement. Returns <code>-1, -1</code> if invalid.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key of settlement, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the position should be on the sea.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the spawn location should be in the same region as the specified settlement.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Specifies the distance at which the character should spawn.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>logical</code> x co-ordinate</li>
								<li><code>logical</code> y co-ordinate</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:find_valid_spawn_location_for_character_from_position"><h3 class="function_name"><strong><code>cm:find_valid_spawn_location_for_character_from_position(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">in same region</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">preferred distance</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Utilises the pathfinder to locate and return a valid spawn point for a character, based around a position. Returns <code>-1, -1</code> if invalid.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of position around which to search.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of position around which to search.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the spawn location should be in the same region as the specified position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Preferred spawn distance, in logical hexes.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>logical</code> x co-ordinate</li>
								<li><code>logical</code> y co-ordinate</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:find_valid_spawn_location_for_character_from_character"><h3 class="function_name"><strong><code>cm:find_valid_spawn_location_for_character_from_character(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">in same region</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">preferred distance</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Utilises the pathfinder to locate and return a valid logical spawn point for a character, based around another character. Returns <code>-1, -1</code> if invalid.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string of subject character. For more information see the documentation on <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the spawn location should be in the same region as the specified character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=0</i></p>
										<p>Preferred spawn distance, in logical hexes.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>logical</code> x co-ordinate</li>
								<li><code>logical</code> y co-ordinate</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:appoint_character_to_force"><h3 class="function_name"><strong><code>cm:appoint_character_to_force(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">mf cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Appoints the specified character to the command of the specified military force. The character must be available (e.g. not dead or wounded, and not commanding another military force) for the appointment to work.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string of subject character. For more information see the documentation on <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the military force to appoint the character to.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:appoint_character_to_most_expensive_force"><h3 class="function_name"><strong><code>cm:appoint_character_to_most_expensive_force(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Appoints the specified character to the command of the most expensive military force in their faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string of subject character. For more information see the documentation on <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:lock_starting_general_recruitment"><h3 class="function_name"><strong><code>cm:lock_starting_general_recruitment(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">startpos id</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Locks recruitment of a starting general, preventing them from being created from the recruitment pool. This also works for characters that are convalescing. The character must be specified by startpos id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Startpos id of the target character. This is looked up from the <code>ID</code> field of the <code>start_pos_characters</code> table. This function cannot be used to lock recruitment of a character not present in the startpos data.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the character, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_starting_general_recruitment"><h3 class="function_name"><strong><code>cm:unlock_starting_general_recruitment(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">startpos id</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unlocks recruitment of a starting general, allowing them to be recruited. This also works for characters that are convalescing. The character must be specified by startpos id.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Startpos id of the target character. This is looked up from the <code>ID</code> field of the <code>start_pos_characters</code> table. This function cannot be used to unlock recruitment of a character not present in the startpos data.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the character, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Character and Force Manipulation"><h2 class="section_header">Character and Force Manipulation</h2></a>
				</div>
				<p>The functions in this section all give order or manipulate the state of characters in the game. They make extensive use of <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_agent_experience"><h3 class="function_name"><strong><code>cm:add_agent_experience(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">points</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds experience points to a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Experience points to award.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_agent_experience_through_family_member"><h3 class="function_name"><strong><code>cm:add_agent_experience_through_family_member(FAMILY_MEMBER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">points</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds experience points to a character specified by FAMILY_MEMBER_SCRIPT_INTERFACE. This interface is provided because if a character is in the process of dying, their FAMILY_MEMBER_SCRIPT_INTERFACE will exist where the CHARACTER_SCRIPT_INTERFACE may not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FAMILY_MEMBER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>FAMILY_MEMBER_SCRIPT_INTERFACE related to the character to apply experience points to.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Experience points to award.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_experience_to_units_commanded_by_character"><h3 class="function_name"><strong><code>cm:add_experience_to_units_commanded_by_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">level</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Increases the experience of all units commanded by a specified character, by a specified level.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Level to increase experience of units by.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_character_experience_disabled"><h3 class="function_name"><strong><code>cm:set_character_experience_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables characters gaining experience across the whole campaign. This restriction is saved into the savegame, so only needs to be set once.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Disable experience. Set to <code>false</code> to re-enable.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:grant_unit_to_character"><h3 class="function_name"><strong><code>cm:grant_unit_to_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Create and add a specifiec unit to a military force commanded by a specified character. The unit will only be created if there is room for it in the force.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of unit to create, from the <code>main_units</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:move_to"><h3 class="function_name"><strong><code>cm:move_to(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to move to a specified logical position. This is equivalent to the player or AI issuing the same order, and as such should only be done on that faction's turn.<br />
							Note that if the character is in a settlement, or the intended destination is a settlement, an enemy army, or another kind of special obstacle then it's likely that a different type of order is required - see <code><a href="#function:episodic_scripting:join_garrison">cm:join_garrison</a></code>, <code><a href="#function:episodic_scripting:leave_garrison">cm:leave_garrison</a></code> and <code><a href="#function:episodic_scripting:attack">cm:attack</a></code>, for example.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:move_to_queued"><h3 class="function_name"><strong><code>cm:move_to_queued(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enqueues an order for the specified character to move to a specified logical position. This action will happen once the current action completes.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of target position.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cancel_actions_for"><h3 class="function_name"><strong><code>cm:cancel_actions_for(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Immediately cancels the current actions of a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:teleport_to"><h3 class="function_name"><strong><code>cm:teleport_to(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to immediately teleport to a specified logical position. This order should only be given on that faction's turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:join_garrison"><h3 class="function_name"><strong><code>cm:join_garrison(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to move into a specified garrison residence. The garrison is specified by settlement key. This is equivalent to the player or AI issuing the same order, and as such should only be done on that faction's turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of settlement containing the garrison residence, from the <code>campaign_map_settlements</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:leave_garrison"><h3 class="function_name"><strong><code>cm:leave_garrison(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Make the specified garrisoned character leave their garrison and move to a specified logical positon.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of target position.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:attack"><h3 class="function_name"><strong><code>cm:attack(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">lay siege</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to attack a target character. This is equivalent to the player or AI issuing the same order, and as such should only be done on that faction's turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Instructs the character to lay siege to the target. This is useful if the target character is in a garrison.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:attack_queued"><h3 class="function_name"><strong><code>cm:attack_queued(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">lay siege</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enqueues an order for the specified character to attack a target character. This action will happen once the current action completes.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Instructs the character to lay siege to the target. This is useful if the target character is in a garrison.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:attack_region"><h3 class="function_name"><strong><code>cm:attack_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to initiate an attack on the settlement in a target region. If the character cannot initiate a battle (for example he or she currently has no method to defeat the fortifications) then nothing will happen.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key containing the target settlement, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_attack_of_opportunity"><h3 class="function_name"><strong><code>cm:force_attack_of_opportunity(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">attacker cqi</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">target cqi</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is ambush</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Orders the specified character to attack a target character through an attack of opportunity - either an interception or an ambush. Note that this function requires character cqis to be passed in as arguments and not lookup strings.<br />
							The two characters must be of different factions that are at war and neither may be garrisoned for the action to succeed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the attacking character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the target character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set to <code>true</code> to ambush, or <code>false</code> to intercept.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:seek_exchange"><h3 class="function_name"><strong><code>cm:seek_exchange(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">show ui</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Orders one character to seek a unit exchange with a target character, allowing troops to be swapped between the two armies they command.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Shows the seek exchange UI.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:replenish_action_points"><h3 class="function_name"><strong><code>cm:replenish_action_points(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Replenishes the action points of a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:zero_action_points"><h3 class="function_name"><strong><code>cm:zero_action_points(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes all action points from a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:kill_character"><h3 class="function_name"><strong><code>cm:kill_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">destroy force</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Kills a specified character, and optionally also the entire military force they command.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Destroy the character and the entire military force they command.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:kill_character_and_commanded_unit"><h3 class="function_name"><strong><code>cm:kill_character_and_commanded_unit(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">destroy force</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Kills a specified character and their associated unit, and optionally also the entire military force they command.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Destroy the character and the entire military force they command.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:wound_character"><h3 class="function_name"><strong><code>cm:wound_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">convalescence time</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Wounds a specified character, forcing them to convalesce for a specified number of turns before they can be re-appointed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns this character should convalesce for until they can be re-appointed.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send the order via the command queue. This causes a short delay before the order is actually given.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_agent_action_success_for_human"><h3 class="function_name"><strong><code>cm:force_agent_action_success_for_human(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force success</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force the local player's faction to succeed at all agent actions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>force success</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_character_force_into_stance"><h3 class="function_name"><strong><code>cm:force_character_force_into_stance(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">stance key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces the military force commanded by the specified character into the specified stance.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Stance key, from the <code>campaign_stances</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_only_allow_basic_recruit_stance"><h3 class="function_name"><strong><code>cm:set_only_allow_basic_recruit_stance(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force basic recruitment stances</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Stops all military forces from entering non-default recruitment stances, such as raiding camp stance.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>force basic recruitment stances</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_unit_from_character"><h3 class="function_name"><strong><code>cm:remove_unit_from_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Remove the first instance of the specified unit from the force commanded by the specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of unit to remove, from the <code>main_units</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_character_immortality"><h3 class="function_name"><strong><code>cm:set_character_immortality(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is immortal</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the specified character can die or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>is immortal</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_character_unique"><h3 class="function_name"><strong><code>cm:set_character_unique(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is unique</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the specified character is unique or not. This affects several aspects about how the game might treat that character such as when they might be available to recruit.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>is unique</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:stop_character_convalescing"><h3 class="function_name"><strong><code>cm:stop_character_convalescing(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly returns a convalescing (wounded) character to the available pool of recruitable characters for their faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>character cqi</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:modify_character_personal_loyalty_factor"><h3 class="function_name"><strong><code>cm:modify_character_personal_loyalty_factor(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">loyalty modifier</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Modifies the loyalty of a specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Amount to modify the loyalty by. This may be positive or negative.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_attack_of_opportunity_overrides"><h3 class="function_name"><strong><code>cm:add_attack_of_opportunity_overrides(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force attack</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces a specified character to always or never perform an attack of opportunity, meaning they will always/never intercept when they get the chance. Once in place, this override can be removed with <code><a href="#function:episodic_scripting:remove_attack_of_opportunity_overrides">cm:remove_attack_of_opportunity_overrides</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Force an attack - if set to <code>true</code> the target character will always intercept, if set to <code>false</code> the character will always decline to intercept.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_attack_of_opportunity_overrides"><h3 class="function_name"><strong><code>cm:remove_attack_of_opportunity_overrides(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes any attack of opportunity override previously placed on the target character with <code><a href="#function:episodic_scripting:add_attack_of_opportunity_overrides">cm:add_attack_of_opportunity_overrides</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:convert_force_to_type"><h3 class="function_name"><strong><code>cm:convert_force_to_type(MILITARY_FORCE_SCRIPT_INTERFACE </strong></code><i class="parameter">force</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">type</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Converts a military force to a specific type. The military force is specified by <code>MILITARY_FORCE_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information. The military force type is specified by <code><a href="lua.html#class:string">string</a></code> key, from the <code>military_force_types</code> database table.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>MILITARY_FORCE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Military force.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Military force type, from the <code>military_force_types</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_unit_hp_to_unary_of_maximum"><h3 class="function_name"><strong><code>cm:set_unit_hp_to_unary_of_maximum(UNIT_SCRIPT_INTERFACE </strong></code><i class="parameter">unit</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">unary hp</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the hit points/number of men to the given unary proportion of the maximum for that unit. The unit is specified by <code>UNIT_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>UNIT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Unit.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Unary proportion (0-1) of max hp value to set unit health to.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_army_trespass_disabled"><h3 class="function_name"><strong><code>cm:set_army_trespass_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Globally disables or re-enables the penalties for army trespassing.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Area Triggers"><h2 class="section_header">Area Triggers</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_circle_area_trigger"><h3 class="function_name"><strong><code>cm:add_circle_area_trigger(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">radius</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trigger name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger on enter</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger on exit</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger once</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a circular area trigger monitor around a specified display position, with a specified character lookup string filter. This monitor will trigger an <code>AreaEntered</code> or <code>AreaExited</code> script event if a character that matches the specified filter moves through the specified circular area boundary.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>x display co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>y display co-ordinate.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Radius of circle.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Trigger name. Multiple trigger areas with the same name behave as a single trigger.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string, specifying characters for which this trigger area will fire events. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether an <code>AreaEntered</code> event is fired when a matching character enters the trigger area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether an <code>AreaExited</code> event is fired when a matching character exits the trigger area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the trigger continues monitoring after it fires its first event.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_outline_area_trigger"><h3 class="function_name"><strong><code>cm:add_outline_area_trigger(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trigger name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger on enter</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger on exit</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">trigger once</i><code><strong>, <br />&emsp;&emsp;... </strong></code><i class="parameter">co-ordinates</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a area trigger monitor around a specified display position, with a specified character lookup string filter. The shape of the trigger area is specified by a series of supplied points. This monitor will trigger an <code>AreaEntered</code> or <code>AreaExited</code> script event if a character that matches the specified filter moves through the specified circular area boundary.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Trigger name. Multiple trigger areas with the same name behave as a single trigger.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string, specifying characters for which this trigger area will fire events. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether an <code>AreaEntered</code> event is fired when a matching character enters the trigger area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether an <code>AreaExited</code> event is fired when a matching character exits the trigger area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the trigger continues monitoring after it fires its first event.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Variable number of display co-ordinates, each supplied as an indexed table containing an x and y co-ordinate.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 cm:add_outline_area_trigger(<br />
								 &emsp;&emsp;&emsp;&emsp;"test_trigger",<br />
								 &emsp;&emsp;&emsp;&emsp;"character_cqi:123",<br />
								 &emsp;&emsp;&emsp;&emsp;true,<br />
								 &emsp;&emsp;&emsp;&emsp;false,<br />
								 &emsp;&emsp;&emsp;&emsp;true,<br />
								 &emsp;&emsp;&emsp;&emsp;true,<br />
								 &emsp;&emsp;&emsp;&emsp;{0, 0},<br />
								 &emsp;&emsp;&emsp;&emsp;{0, 100},<br />
								 &emsp;&emsp;&emsp;&emsp;{100, 100},<br />
								 &emsp;&emsp;&emsp;&emsp;{100, 0}<br />
								 );<br />
							</code></div>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_area_trigger"><h3 class="function_name"><strong><code>cm:remove_area_trigger(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trigger name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes any area triggers established with <code><a href="#function:episodic_scripting:add_circle_area_trigger">cm:add_circle_area_trigger</a></code> or <code><a href="#function:episodic_scripting:add_outline_area_trigger">cm:add_outline_area_trigger</a></code> with the supplied name.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>trigger name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_hex_area_trigger"><h3 class="function_name"><strong><code>cm:add_hex_area_trigger(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trigger name</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">radius</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subculture key</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Establishes a area trigger monitor around a specified logical position, with a faction or subculture filter. This monitor will trigger an <code>AreaEntered</code> or <code>AreaExited</code> script event if a character that matches the filter moves through the area boundary.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unique name for this area trigger.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate for the hex area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate for the hex area.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Radius in hexes (max of 20).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=""</i></p>
										<p>Key of faction to which the area trigger should apply, from the <code>factions</code> table. This may be a blank string if a subculture key is supplied.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=""</i></p>
										<p>Key of subculture to which the area trigger should apply, from the <code> </code> table. This may be a blank string if a subculture key is supplied.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_hex_area_trigger"><h3 class="function_name"><strong><code>cm:remove_hex_area_trigger(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trigger name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes any area triggers established with <code><a href="#function:episodic_scripting:add_hex_area_trigger">cm:add_hex_area_trigger</a></code> with the supplied trigger name.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>trigger name</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Traits, Skills and Ancillaries"><h2 class="section_header">Traits, Skills and Ancillaries</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_add_trait"><h3 class="function_name"><strong><code>cm:force_add_trait(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trait key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">trait points</i><code><strong>], <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Grant the specified trait to the specified character. If the character already has the trait, a trait point will be added.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Trait key, from the <code>character_traits</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=1</i></p>
										<p>Number of trait points to add.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Issue this command via the command queue.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_remove_trait"><h3 class="function_name"><strong><code>cm:force_remove_trait(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">trait key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the specified trait from the specified character. If the character is past the point of no return in the trait, it will be removed anyway.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Trait key, from the <code>character_traits</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_add_ancillary"><h3 class="function_name"><strong><code>cm:force_add_ancillary(<br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">target_character</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ancillary key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force equip</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">suppress event feed</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Grant the specified ancillary to the specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>target_character</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ancillary key, from the <code>ancillaries</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>if true the ancillary will be equipped and bypass any cooldowns or pre-conditions</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>if true no event feed events will be generated by this action</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_remove_ancillary"><h3 class="function_name"><strong><code>cm:force_remove_ancillary(<br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">target_character</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ancillary key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">remove to pool</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">suppress event feed</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Remove the specified ancilliary from the specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>target_character</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ancillary key, from the <code>ancillaries</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Removes the ancillary from the character but leaves it in the pool of available ancillaries.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>if true no event feed events will be generated by this action</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_ancillary_to_faction"><h3 class="function_name"><strong><code>cm:add_ancillary_to_faction(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">target faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ancillary key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">suppress event feed</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Grants the specified ancillary to the specified faction. The ancillary goes into that faction's ancillary pool, from where it may be equipped by a character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>target faction</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ancillary key, from the <code>ancillaries</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>if true no event feed events will be generated by this action</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_remove_ancillary_from_faction"><h3 class="function_name"><strong><code>cm:force_remove_ancillary_from_faction(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ancillary key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Remove all instances of the specified ancillary from every character, and the shared ancillary pool, of the specified faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>faction</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ancillary key, from the <code>ancillaries</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_add_skill"><h3 class="function_name"><strong><code>cm:force_add_skill(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">skill key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Grant the specified skill to the specified character, or adds a point if they already have it.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Skill key, from the <code>character_skills</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_skill_point"><h3 class="function_name"><strong><code>cm:remove_skill_point(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">skill key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Remove a skill point from the specified character and skill. Returns <code>true</code> if successful.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Skill key, from the <code>character_skills</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> skill point was removed</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_reset_skills"><h3 class="function_name"><strong><code>cm:force_reset_skills(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Completely resets the skill points of the target character. Does not remove background skills.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_all_background_skills"><h3 class="function_name"><strong><code>cm:remove_all_background_skills(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forcibly remove all background skills for the specified character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_non_scripted_traits_disabled"><h3 class="function_name"><strong><code>cm:set_non_scripted_traits_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents or allows the application of traits by <code><a href="effect.html#function:effect:trait">effect.trait</a></code>, which is intended to be the general-purpose trait-adding function. <code><a href="#function:episodic_scripting:force_add_trait">cm:force_add_trait</a></code> will still work even with this restriction in place.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_non_scripted_ancillaries_disabled"><h3 class="function_name"><strong><code>cm:set_non_scripted_ancillaries_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents or allows the application of ancillaries by <code><a href="effect.html#function:effect:ancillary">effect.ancillary</a></code>, which is intended to be the general-purpose ancillary-adding function. <code><a href="#function:episodic_scripting:force_add_ancillary">cm:force_add_ancillary</a></code> will still work even with this restriction in place.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Object Renaming"><h2 class="section_header">Object Renaming</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_localised_faction_name"><h3 class="function_name"><strong><code>cm:change_localised_faction_name(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a faction. The new name is specified by full localised text key, in the [table]_[key]_[field] format.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localised name key, in the [table]_[key]_[field] format.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_custom_faction_name"><h3 class="function_name"><strong><code>cm:change_custom_faction_name(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a faction. The new name is specified directly as a string.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>New name for the faction.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_custom_settlement_name"><h3 class="function_name"><strong><code>cm:change_custom_settlement_name(SETTLEMENT_SCRIPT_INTERFACE </strong></code><i class="parameter">settlement</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a settlement. The new name is specified by full localised text key, in the [table]_[key]_[field] format.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SETTLEMENT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Settlement object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localised name key, in the [table]_[key]_[field] format.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_localised_settlement_name"><h3 class="function_name"><strong><code>cm:change_localised_settlement_name(SETTLEMENT_SCRIPT_INTERFACE </strong></code><i class="parameter">settlement</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a faction. The new name is specified directly as a string.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SETTLEMENT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Settlement object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>New name for the faction.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_custom_region_name"><h3 class="function_name"><strong><code>cm:change_custom_region_name(REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a region. The new name is specified by full localised text key, in the [table]_[key]_[field] format. Note that the region name is not currently used for display - see <code><a href="#function:episodic_scripting:change_custom_settlement_name">cm:change_custom_settlement_name</a></code> instead.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Region object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localised name key, in the [table]_[key]_[field] format.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_localised_region_name"><h3 class="function_name"><strong><code>cm:change_localised_region_name(REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a region. The new name is specified directly as a string. Note that the region name is not currently used for display - see <code><a href="#function:episodic_scripting:change_localised_settlement_name">cm:change_localised_settlement_name</a></code> instead.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Region object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>New name for the region.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_custom_unit_name"><h3 class="function_name"><strong><code>cm:change_custom_unit_name(UNIT_SCRIPT_INTERFACE </strong></code><i class="parameter">unit</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a unit. The new name is specified by full localised text key, in the [table]_[key]_[field] format.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>UNIT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Unit object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localised name key, in the [table]_[key]_[field] format.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:change_localised_unit_name"><h3 class="function_name"><strong><code>cm:change_localised_unit_name(UNIT_SCRIPT_INTERFACE </strong></code><i class="parameter">unit</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">name</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Changes the name of a unit. The new name is specified directly as a string.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>UNIT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Unit object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information about this interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>New name for the unit.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Province and Faction Mechanics"><h2 class="section_header">Province and Faction Mechanics</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_tax_rate"><h3 class="function_name"><strong><code>cm:set_tax_rate(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">tax rate</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the tax rate for a specified faction. The tax rate may be one of the following integer values:<table class="simple"><br />
							<tr><th>Value</th><th>Description</th></tr><br />
							<tr><td><code>0</code></td><td>minimal</td></tr>

							<tr><td><code>1</code></td><td>low</td></tr>

							<tr><td><code>2</code></td><td>normal</td></tr>

							<tr><td><code>3</code></td><td>high</td></tr>

							<tr><td><code>4</code></td><td>extortionate</td></tr></table>

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Tax rate, from the table above.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:exempt_region_from_tax"><h3 class="function_name"><strong><code>cm:exempt_region_from_tax(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">exempt</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Exempts, or un-exempts, the province containing specified region from tax contributions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Exempt province from tax.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:exempt_province_from_tax_for_all_factions_and_set_default"><h3 class="function_name"><strong><code>cm:exempt_province_from_tax_for_all_factions_and_set_default(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">exempt</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Exempt the province containing specified region from tax for all factions that own a settlement within it, and set the default for future factions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Exempt province from tax.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_rebellions_worldwide"><h3 class="function_name"><strong><code>cm:disable_rebellions_worldwide(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables all rebellions across the map.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_rebellion_in_region"><h3 class="function_name"><strong><code>cm:force_rebellion_in_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">units</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">suppress message</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force a rebellion of a specified size in the specified region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Maximum number of units in the spawned rebellion.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of target position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Suppress the event message related to the rebellion.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:treasury_mod"><h3 class="function_name"><strong><code>cm:treasury_mod(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">amount</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Immediately modifies the treasury of the specified faction by the specified amount. The supplied value can be positive or negative.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Treasury modification.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_public_order_of_province_for_region"><h3 class="function_name"><strong><code>cm:set_public_order_of_province_for_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">public order</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the public order value for the province containing the specified region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Public order value.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_public_order_disabled_for_province_for_region"><h3 class="function_name"><strong><code>cm:set_public_order_disabled_for_province_for_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables public order in the province containing the specified region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Disable public order.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_public_order_disabled_for_province_for_region_for_all_factions_and_set_default"><h3 class="function_name"><strong><code>cm:set_public_order_disabled_for_province_for_region_for_all_factions_and_set_default(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables public order in the province containing the specified region, for all factions that own settlements within the province, including factions that capture territory there in the future.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Disable public order.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_development_points_to_region"><h3 class="function_name"><strong><code>cm:add_development_points_to_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">development points</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds development points to the province containing the specified region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Developments points to add.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_imperium_level_change_disabled"><h3 class="function_name"><strong><code>cm:set_imperium_level_change_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables imperium level changes across the whole campaign.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_region_abandoned"><h3 class="function_name"><strong><code>cm:set_region_abandoned(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Immediately sets the specified to be abandoned. Nothing will happen if an already-abandoned region is specified.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:transfer_region_to_faction"><h3 class="function_name"><strong><code>cm:transfer_region_to_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Immediately transfers ownership of the specified region to the specified faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_storm_for_region"><h3 class="function_name"><strong><code>cm:create_storm_for_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">storm strength</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">storm type</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Creates a storm of a given type in a given region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Storm strength. The strength of existing storm instances can be looked up in the <code>campaign_storms</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration of the storm in turns.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Storm type, looked up from the <code>campaign_storm_types</code> table. By default, this is set to <code>"land_storm"</code> for a land region and <code>"wandering_decaying_sea_storm"</code> for a sea region.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:heal_garrison"><h3 class="function_name"><strong><code>cm:heal_garrison(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Heals the garrison army (and navy, where applicable) in the specified region back to full health. The region is specified by cqi.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the target region.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_liberation_options_disabled"><h3 class="function_name"><strong><code>cm:set_liberation_options_disabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">disable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables post-battle liberation options for the player.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>disable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_religion_factors"><h3 class="function_name"><strong><code>cm:force_religion_factors(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">religion key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">religion proportion</i><code><strong>, <br />&emsp;&emsp;... </strong></code><i class="parameter">extra religions</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Forces the balance of religions in a specified province to specified values. The key of a region within the target province must be specified, along with one or more argument pairs specifying a religion key and a proportion for that religion. The sum of all specified religion proportions must equal 1. At least one religion/religion proportion pair of arguments must therefore be specified. Religions not specified in the arguments of this function call will not be present in the target province.<br />
							The religion system in Warhammer is repurposed to represent corruption. Use this function to override the setup of corruption within a province.<br />
							Note that this function will only work if called on turn one.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of a region within the target province, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of a religion, from the <code>religions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Unary proportion (0-1) of the religion specified by the previous argument. The unary proportion of all specified religions should add up to 1.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Extra religion key/religion proportion pairs of arguments, if desired.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example - Force a 60/40 untainted/undead corruption setup in Altdorf on turn one:</h4>
							<div id="example_code"><code>
								 cm:force_religion_factors("wh_main_reikland_altdorf", "wh_main_religion_untainted", 0.6, "wh_main_religion_undeath", 0.40);<br />
							</code></div>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_unit_to_faction_mercenary_pool"><h3 class="function_name"><strong><code>cm:add_unit_to_faction_mercenary_pool(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">count</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">replenishment chance</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max units</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max per turn</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">xp</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction restriction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subculture restriction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tech restriction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">partial replenishment</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more units of a specified type to a faction's mercenary pool. These units can then be recruitable by that faction (or potentially other factions) using gameplay mechanics such as Regiments of Renown or Wulfhart's Mercenaries.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction whose pool the unit(s) should be added to. For more information about the <code>FACTION_SCRIPT_INTERFACE</code> interface see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of unit to add to the mercenary pool, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of units to add to the mercenary pool.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Replenishment chance, as a percentage. This is the chance per-turn that the number of available units in the pool of the supplied type will be increased, if not already at its maximum.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The maximum number of units of the supplied type that the pool is allowed to contain.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The maximum number of units of the supplied type that may be added by replenishment per-turn.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The experience level of the units when recruited. This should be an integer value between <code>0-9</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of the faction who can actually recruit the units, from the <code>factions</code> database table. This may be different from the faction whose pool the unit is added to. An empty string <code>""</code> may be supplied to omit this, which will usually be the case.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of the subculture who can actually recruit the units, from the <code>cultures_subcultures</code> database table. An empty string <code>""</code> may be supplied to omit this, which will usually be the case.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of a technology that must be researched in order to recruit the units, from the <code>technologies</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>11</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Allow replenishment of partial units.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_units_to_faction_mercenary_pool"><h3 class="function_name"><strong><code>cm:add_units_to_faction_mercenary_pool(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">count</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more of a specified unit to the specified faction's mercenary pool. Unlike with <code><a href="#function:episodic_scripting:add_units_to_faction_mercenary_pool">cm:add_units_to_faction_mercenary_pool</a></code>, the unit type must already be represented in the pool.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>CQI of the subject faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of units to add.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_unit_to_province_mercenary_pool"><h3 class="function_name"><strong><code>cm:add_unit_to_province_mercenary_pool(<br />&emsp;&emsp;REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">count</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">replenishment chance</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max units</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max per turn</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">xp</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction restriction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subculture restriction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tech restriction</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more units of a specified type to the mercenary pool in a province. These units can then be recruitable by that faction (or potentially other factions) using gameplay mechanics such as Raising Dead.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Region within the province to which the unit(s) should be added. For more information about the <code>REGION_SCRIPT_INTERFACE</code> interface see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of unit to add to the mercenary pool, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of units to add to the mercenary pool.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Replenishment chance, as a percentage. This is the chance per-turn that the number of available units in the pool of the supplied type will be increased, if not already at its maximum.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The maximum number of units of the supplied type that the pool is allowed to contain.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The maximum number of units of the supplied type that may be added by replenishment per-turn.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>The experience level of the units when recruited. This should be an integer value between <code>0-9</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of the faction who can actually recruit the units, from the <code>factions</code> database table. This may be different from the faction whose pool the unit is added to. An empty string <code>""</code> may be supplied to omit this, which will usually be the case.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of the subculture who can actually recruit the units, from the <code>cultures_subcultures</code> database table. An empty string <code>""</code> may be supplied to omit this, which will usually be the case.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>The key of a technology that must be researched in order to recruit the units, from the <code>technologies</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_units_to_province_mercenary_pool_by_region"><h3 class="function_name"><strong><code>cm:add_units_to_province_mercenary_pool_by_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">count</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds one or more of a specified unit to the specified province mercenary pool. The province is specified by a region within it. Unlike with <code><a href="#function:episodic_scripting:add_unit_to_province_mercenary_pool">cm:add_unit_to_province_mercenary_pool</a></code>, the unit type must already be represented in the pool.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key of a region within the target province, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of units to add.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Missions"><h2 class="section_header">Missions</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_mission"><h3 class="function_name"><strong><code>cm:trigger_mission(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">fire immediately</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use command queue</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Instructs the campaign director to attempt to trigger a mission of a particular type, based on a mission record from the database. The mission will be triggered if its conditions, defined in the <code>cdir_events_mission_option_junctions</code>, pass successfully. The function returns whether the mission was successfully triggered or not. Note that if the command is sent via the command queue then <code>true</code> will always be returned, regardless of whether the mission successfully triggers.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set the mission to fire immediately, instead of waiting for the start of the faction's turn. This also overrides any delay set in the mission data.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Trigger the mission via the command queue or not.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> mission triggered successfully</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_custom_mission"><h3 class="function_name"><strong><code>cm:trigger_custom_mission(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use command queue</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Triggers a specific custom mission from its database record key. This mission must be defined in the missions.txt file that accompanies each campaign.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from missions.txt file.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Trigger the mission via the command queue or not.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_custom_mission_from_string"><h3 class="function_name"><strong><code>cm:trigger_custom_mission_from_string(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use command queue</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Triggers a custom mission from a string passed into the function. The mission string must be supplied in a custom format - see the missions.txt that commonly accompanies a campaign for examples.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission definition string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Trigger the mission via the command queue or not.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cancel_custom_mission"><h3 class="function_name"><strong><code>cm:cancel_custom_mission(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, [<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use command queue</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Cancels an active custom mission.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=false</i></p>
										<p>Sends the command via the command queue or not.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_mission_with_targets"><h3 class="function_name"><strong><code>cm:trigger_mission_with_targets(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">target faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">secondary faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">military force cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">settlement cqi</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Attempts to trigger a mission from database records with one or more target game objects. The game object or objects to associate the mission with are specified by command-queue index. The mission will need to pass any conditions set up in the <code>cdir_events_mission_option_junctions</code> table in order to trigger.<br />
							A value of <code>0</code> may be supplied to omit a particular type of target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the faction to which the mission is issued. This must be supplied.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target faction. <code>0</code> may be specified to omit this target (and other target arguments following this one).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a second target faction. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target character. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target military force. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target region. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target settlement. May be <code>0</code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:toggle_mission_generation"><h3 class="function_name"><strong><code>cm:toggle_mission_generation(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">can generate</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the campaign director system can generate missions or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>can generate</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Scripted Missions"><h2 class="section_header">Scripted Missions</h2></a>
				</div>
				<p>Campaign missions may be set up with a mission type of <code>SCRIPTED</code>. In this case, it is the responsibility of script to manage and complete the mission's objectives. The scripted <code><a href="mission_manager.html#class:mission_manager">mission_manager</a></code> object provides an interface for the easy creation of missions of this type. The functions listed here are the code functions that the mission manager and other scripts can use to manage scripted missions.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_scripted_mission_text"><h3 class="function_name"><strong><code>cm:set_scripted_mission_text(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">script key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">text key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Updates the text shown for a particular objective of a specified scripted mission. This can be used to update a representation of mission progress on the panel.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the particular scripted objective associated with the mission.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localised text key, in the full [table]_[field]_[key] format.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_scripted_mission_position"><h3 class="function_name"><strong><code>cm:set_scripted_mission_position(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">script key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Updates the map position related to a particular objective of a specified scripted mission. This can be used to update a mission's zoom-to target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the particular scripted objective associated with the mission.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of the updated position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of the updated position.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:complete_scripted_mission_objective"><h3 class="function_name"><strong><code>cm:complete_scripted_mission_objective(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">mission key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">script key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is success</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Marks a particular objective associated with a specified scripted mission as either succeeded or failed. Once all objectives for a scripted mission are completed, the mission itself is completed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Mission key, from the <code>missions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the particular scripted objective associated with the mission.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Objective was completed successfully.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Incidents & Dilemmas"><h2 class="section_header">Incidents & Dilemmas</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_incident"><h3 class="function_name"><strong><code>cm:trigger_incident(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">incident key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">fire immediately</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instructs the campaign director to attempt to trigger a specified incident, based on record from the database. The incident will be triggered if its conditions, defined in the <code>cdir_events_incident_option_junctions</code>, pass successfully. The function returns whether the incident was successfully triggered or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Incident key, from the <code>incidents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set the incident to fire immediately.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> incident was triggered</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_custom_incident"><h3 class="function_name"><strong><code>cm:trigger_custom_incident(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">incident key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">fire immediately</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">payload</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Forces an incident to trigger. A payload string fragment specifying the incident consequences must be supplied.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Incident key, from the <code>dilemmas</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set the incident to fire immediately.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Payload string. Check <code>missions.txt</code> for examples of how to structure a payload string.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 cm:trigger_custom_incident("wh_main_emp_empire", "wh_main_test_incident", true, "payload{money 1000;}");<br />
							</code></div>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_incident_with_targets"><h3 class="function_name"><strong><code>cm:trigger_incident_with_targets(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">incident key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">secondary faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">military force cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement cqi</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Attempts to trigger an incident from database records with one or more target game objects. The game object or objects to associate the incident with are specified by command-queue index. The incident will need to pass any conditions set up in the <code>cdir_events_incident_option_junctions</code> table in order to trigger.<br />
							A value of <code>0</code> may be supplied to omit a particular type of target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the faction to which the incident is issued. This must be supplied.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Incident key, from the <code>incidents</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target faction. <code>0</code> may be specified to omit this target (and other target arguments following this one).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a second target faction. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target character. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target military force. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target region. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target settlement. May be <code>0</code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:toggle_incident_generation"><h3 class="function_name"><strong><code>cm:toggle_incident_generation(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">can generate</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the campaign director system can generate dilemmas or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>can generate</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_dilemma"><h3 class="function_name"><strong><code>cm:trigger_dilemma(string </strong></code><i class="parameter">faction key</i><code><strong>, string </strong></code><i class="parameter">dilemma key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">fire immediately</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instructs the campaign director to attempt to trigger a dilemma with a particular key, based on dilemma records from the database. The dilemma will be triggered if its conditions, defined in the <code>cdir_events_dilemma_option_junctions</code>, pass successfully. The function returns whether the dilemma was successfully triggered or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Faction key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>string</code></p>
									</td>
									<td>
										<p>Dilemma key, from the dilemma table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Set the incident to fire immediately.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> dilemma was triggered</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_custom_dilemma"><h3 class="function_name"><strong><code>cm:trigger_custom_dilemma(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">dilemma key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first choice payload</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second choice payload</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Triggers a custom dilemma with two choices, with the specified faction as the dilemma target. 

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Dilemma key, from the <code>dilemmas</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Payload key for the first choice of the dilemma, from the <code>cdir_events_dilemma_payloads</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Payload key for the second choice of the dilemma, from the <code>cdir_events_dilemma_payloads</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_custom_dilemma_for_character"><h3 class="function_name"><strong><code>cm:trigger_custom_dilemma_for_character(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">dilemma key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first choice payload</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second choice payload</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Triggers a custom dilemma with two choices, with the specified character as the dilemma target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string. For more information, see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Dilemma key, from the <code>dilemmas</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Payload key for the first choice of the dilemma, from the <code>cdir_events_dilemma_payloads</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Payload key for the second choice of the dilemma, from the <code>cdir_events_dilemma_payloads</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_dilemma_with_targets"><h3 class="function_name"><strong><code>cm:trigger_dilemma_with_targets(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">dilemma key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">target faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">secondary faction cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">military force cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">settlement cqi</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Attempts to trigger a dilemma from database records with one or more target game objects. The game object or objects to associate the dilemma with are specified by command-queue index. The dilemma will need to pass any conditions set up in the <code>cdir_events_dilemma_option_junctions</code> table in order to trigger.<br />
							A value of <code>0</code> may be supplied to omit a particular type of target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the faction to which the dilemma is issued. This must be supplied.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Dilemma key, from the <code>dilemmas</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target faction. <code>0</code> may be specified to omit this target (and other target arguments following this one).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a second target faction. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target character. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target military force. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target region. May be <code>0</code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of a target settlement. May be <code>0</code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:toggle_dilemma_generation"><h3 class="function_name"><strong><code>cm:toggle_dilemma_generation(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">can generate</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the campaign director system can generate dilemmas or not.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>can generate</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:trigger_intrigue"><h3 class="function_name"><strong><code>cm:trigger_intrigue(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">issuing faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction a key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction b key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">improve</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">exempt from cost</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Triggers an intrigue (the High Elf game mechanic) incident which improves or worsens diplomatic relations between two supplied factions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the faction issuing the intrigue, from the <code>factions</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the first target faction, from the <code>factions</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the second target faction, from the <code>factions</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies that the intrigue should improve rather than worsen diplomatic relations between the target factions.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies that the intrigue should not cost influence points for issuing faction.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Events and Suppression"><h2 class="section_header">Events and Suppression</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_event_generation_enabled"><h3 class="function_name"><strong><code>cm:set_event_generation_enabled(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">enable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Enables or disables random event generation by the campaign director system.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>enable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:show_message_event"><h3 class="function_name"><strong><code>cm:show_message_event(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">title loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">primary loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">secondary loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">persistent</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">index</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Constructs and displays an event message.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the faction to whom the event is targeted, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the event title. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the primary detail of the event. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the secondary detail of the event. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets this event to be persistent instead of transient. Persistent events are saved to the event history which is accessible to the player.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Index indicating the type of event. This can be looked up by first finding a record in <code>event_feed_message_events</code> which relates to the event message being shown, then looking up the value in the <code>campaign_groups</code> field of this record in the <code>campaign_group_member_criteria_values</code>. This will provide one or more possible index values that may be used here.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:show_message_event_located"><h3 class="function_name"><strong><code>cm:show_message_event_located(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">title loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">primary loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">secondary loc key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">persistent</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">index</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Constructs and displays a event message with a zoom-to location.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the faction to whom the event is targeted, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the event title. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the primary detail of the event. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Localisation key for the secondary detail of the event. This should be supplied in the full [table]_[field]_[key] localisation format, or can be a blank string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical x co-ordinate of event target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Logical y co-ordinate of event target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets this event to be persistent instead of transient. Persistent events are saved to the event history which is accessible to the player.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Index indicating the type of event. This can be looked up by first finding a record in <code>event_feed_message_events</code> which relates to the event message being shown, then looking up the value in the <code>campaign_groups</code> field of this record in the <code>campaign_group_member_criteria_values</code>. This will provide one or more possible index values that may be used here.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:suppress_all_event_feed_event_types"><h3 class="function_name"><strong><code>cm:suppress_all_event_feed_event_types(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">activate suppression</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Activates or deactivates the episodic scripting event feed suppression system. Once activated, event messages of all types will be withheld from triggering until they are either whitelisted with <code><a href="#function:episodic_scripting:whitelist_event_feed_event_type">cm:whitelist_event_feed_event_type</a></code> or until suppression is lifted again with a subsequent call to this function. Once one of these two actions occurs, any event messages previously blocked will be triggered.<br />
							See also the equivalent UI-side suppression function <code><a href="campaignui.html#function:campaignui:SuppressAllEventTypesInUI">CampaignUI.SuppressAllEventTypesInUI</a></code>. This function should be used with care, as it can cause softlocks if dilemmas are suppressed. The UI-side functions are generally safer to use.<br />
							Message suppression using this system should not be maintained over the end-turn sequence.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>activate suppression</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:whitelist_event_feed_event_type"><h3 class="function_name"><strong><code>cm:whitelist_event_feed_event_type(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">event type</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Whitelists an event type, allowing it to be shown despite suppression being activated with <code><a href="#function:episodic_scripting:suppress_all_event_feed_event_types">cm:suppress_all_event_feed_event_types</a></code>. Event types are specified by a compound key from the <code>event_feed_targeted_events</code> table, by concatenating the values from the <code>event</code> and <code>target</code> fields from that table. See the documentation for the ui-side equivalent of this function, <code><a href="campaignui.html#function:campaignui:WhiteListEventTypeInUI">CampaignUI.WhiteListEventTypeInUI</a></code>, for more information.<br />
							This function has no effect if suppression has not been activated with <code><a href="#function:episodic_scripting:suppress_all_event_feed_event_types">cm:suppress_all_event_feed_event_types</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Event type, specified with a compound key from the <code>event_feed_targeted_events</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:event_feed_event_type_pending"><h3 class="function_name"><strong><code>cm:event_feed_event_type_pending(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">event type</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns whether any event messages of the supplied type are currently being blocked/withheld by event feed suppression. If this function returns <code>true</code> for a specified event type, then the withheld event messages may be shown by calling <code><a href="#function:episodic_scripting:whitelist_event_feed_event_type">cm:whitelist_event_feed_event_type</a></code> to lift the suppression on that event type, or by calling <code><a href="#function:episodic_scripting:suppress_all_event_feed_event_types">cm:suppress_all_event_feed_event_types</a></code> to lift all suppression.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Event type, specified with a compound key from the <code>event_feed_targeted_events</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> event is currently pending</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_event_feed_events"><h3 class="function_name"><strong><code>cm:disable_event_feed_events(<br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should disable</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">category</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subcategory</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">subcategory</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Enable or disable event feed events by category, subcategory or event. Any of these types can be empty. This differs from event feed suppression in that messages blocked by this function will be discarded, never to be shown. This function is of most use for temporarily or momentarily blocking certain event messages that the game produces naturally for some reason. This function should be used with care, as it can cause a softlock if a dilemma is triggered while disabled.<br />
							Note that the event type lists are independent of one another, so if an event message is blocked by category, this restriction will not be lifted by unblocking by subcategory, for example.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Disable the event messages specified by the supplied filters. Supply <code>false</code> here to re-enable previously disabled event messages.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Event feed category to block, from the <code>event_feed_categories</code> table. Supply a blank string to not filter by category.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Event feed subcategory to block, from the <code>event_feed_subcategories</code> table. Supply a blank string to not filter by subcategory.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Event feed subcategory to block, from the <code>event_feed_events</code> table. Supply a blank string to not filter by event.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Buildings and Slots"><h2 class="section_header">Buildings and Slots</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:region_slot_instantly_dismantle_building"><h3 class="function_name"><strong><code>cm:region_slot_instantly_dismantle_building(SLOT_SCRIPT_INTERFACE </strong></code><i class="parameter">slot</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly dismantle the building in the supplied region slot. The slot is specified by <code>SLOT_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SLOT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>slot</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:region_slot_instantly_upgrade_building"><h3 class="function_name"><strong><code>cm:region_slot_instantly_upgrade_building(SLOT_SCRIPT_INTERFACE </strong></code><i class="parameter">slot</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly upgrade the building in the supplied region slot to the supplied building. The slot is specified by <code>SLOT_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information. The building specified must be a valid upgrade for the building chain present in the slot.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SLOT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Slot script interface.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:region_slot_instantly_repair_building"><h3 class="function_name"><strong><code>cm:region_slot_instantly_repair_building(SLOT_SCRIPT_INTERFACE </strong></code><i class="parameter">slot</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly repair the building in the specified slot. Slots are specified by <code>SLOT_SCRIPT_INTERFACE</code>, see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SLOT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>slot</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:foreign_slot_instantly_dismantle_building"><h3 class="function_name"><strong><code>cm:foreign_slot_instantly_dismantle_building(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">foreign slot cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly dismantles the building in the specified foreign slot. The slot is specified by slot cqi, which can be obtained from the foreign slot script interface on the model hierarchy.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>foreign slot cqi</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:foreign_slot_instantly_upgrade_building"><h3 class="function_name"><strong><code>cm:foreign_slot_instantly_upgrade_building(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">foreign slot cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly upgrades the building in the specified foreign slot. The slot is specified by slot cqi, which can be obtained from the foreign slot script interface on the model hierarchy.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Foreign slot cqi.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_faction_foreign_slots_from_region"><h3 class="function_name"><strong><code>cm:remove_faction_foreign_slots_from_region(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the specified foreign slot set from the target region, for the target faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index value of the target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index value of the target region.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:instant_set_building_health_percent"><h3 class="function_name"><strong><code>cm:instant_set_building_health_percent(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">health percent</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Instantly set the health of a building.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building level or chain key, from either the <code>building_levels</code> or <code>building_chains</code> tables.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>New health value of building, expressed as a number from 0 to 100.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:override_building_chain_display"><h3 class="function_name"><strong><code>cm:override_building_chain_display(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building chain key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">override chain key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Override the display of a building chain so that it appears as another building chain in the ui. A region key may optionally be specified to only override the building chain there. The override building chain must contain the same number of buildings as the chain being overridden.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building chain key, from the <code>building_chains</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Override building chain key, also from the <code>building_chains</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_building_to_force"><h3 class="function_name"><strong><code>cm:add_building_to_force(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">force cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">operation was successful</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Attempts to add a horde building to a military force. A slot must be available, or the force must contain a building that can be upgraded to the building specified. 

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Military force command-queue index value.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>operation was successful</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_building_to_settlement"><h3 class="function_name"><strong><code>cm:add_building_to_settlement(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">operation was successful</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Attempts to add a building to a settlement. A slot must be available, or the settlement must contain a building that can be upgraded to the building specified. 

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the region containing the target settlement, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>operation was successful</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_foreign_slot_set_to_region_for_faction"><h3 class="function_name"><strong><code>cm:add_foreign_slot_set_to_region_for_faction(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">faction cqi</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">region cqi</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">slot set key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds the specified foreign slot set to the target region, for the target faction. The foreign slot manager of the faction is returned, or a null script interface if parameters are invalid.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index value of the target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index value of the target region.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Slot set key, from the <code>slot_sets</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>FOREIGN_SLOT_MANAGER_SCRIPT_INTERFACE</code> foreign slot manager</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:instantly_set_settlement_primary_slot_level"><h3 class="function_name"><strong><code>cm:instantly_set_settlement_primary_slot_level()</code></strong></h3></a>
						</dt>
						<dd>
							Instantly sets the primary slot level of the supplied settlement. The settlement is specified by <code>SETTLEMENT_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information. The supplied level Will be clamped to the maximum level of the chain.<br />
							The new primary slot building will be returned, as a <code>BUILDING_SCRIPT_INTERFACE</code> object.


							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Effect Bundles"><h2 class="section_header">Effect Bundles</h2></a>
				</div>
				<p>Effects and effect bundles are the primary method by which campaign systems make gameplay balance modifications. The in-game benefits which technologies, buildings, rites and faction effects, amongst many other examples, are delivered through the activation of effect bundles.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle"><h3 class="function_name"><strong><code>cm:apply_effect_bundle(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Apply an effect bundle to a faction for a number of turns, or indefinitely.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle"><h3 class="function_name"><strong><code>cm:remove_effect_bundle(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a previously-applied effect bundle from a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle_to_force"><h3 class="function_name"><strong><code>cm:apply_effect_bundle_to_force(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">force cqi</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Apply an effect bundle to a military force for a number of turns, or indefinitely.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the military force.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle_from_force"><h3 class="function_name"><strong><code>cm:remove_effect_bundle_from_force(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">force cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a previously-applied effect bundle from a military force.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the military force.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle_to_characters_force"><h3 class="function_name"><strong><code>cm:apply_effect_bundle_to_characters_force(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">command queue</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Apply an effect bundle to a military force for a number of turns, or indefinitely. The military force is specified by its commanding character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the character commanding the military force.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Send this command via the command queue.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle_from_characters_force"><h3 class="function_name"><strong><code>cm:remove_effect_bundle_from_characters_force(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">character cqi</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a previously-applied effect bundle from a military force, specified by its commanding character.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Command-queue index of the character commanding the military force.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle_to_character"><h3 class="function_name"><strong><code>cm:apply_effect_bundle_to_character(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle</i><code><strong>, <br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies an effect bundle to a character. The character is specified by <code>CHARACTER_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target character.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle_from_character"><h3 class="function_name"><strong><code>cm:remove_effect_bundle_from_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle</i><code><strong>, CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes an effect bundle from a character. The character is specified by <code>CHARACTER_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target character.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle_to_region"><h3 class="function_name"><strong><code>cm:apply_effect_bundle_to_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Apply an effect bundle to a campaign map region for a number of turns, or indefinitely.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle_from_region"><h3 class="function_name"><strong><code>cm:remove_effect_bundle_from_region(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a previously-applied effect bundle from a campaign map region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_effect_bundle_to_faction_province"><h3 class="function_name"><strong><code>cm:apply_effect_bundle_to_faction_province(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle</i><code><strong>, <br />&emsp;&emsp;REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">turns</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies an effect bundle to a province. The province is specified by <code>REGION_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information. The effect bundle will be applied to the portion of the province owned by the owner of the specified region - this can be the whole province if one faction controls it all.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target region.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Number of turns to apply the effect bundle for. <code>-1</code> may be supplied to apply the effect indefinitely.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_effect_bundle_from_faction_province"><h3 class="function_name"><strong><code>cm:remove_effect_bundle_from_faction_province(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">effect bundle</i><code><strong>, REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes an effect bundle from a province. The province is specified by <code>REGION_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information. The effect bundle will be removed from the portion of the province owned by the owner of the specified region - this can be the whole province if one faction controls it all.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target region.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Custom Effect Bundles"><h2 class="section_header">Custom Effect Bundles</h2></a>
				</div>
				<p>Custom effect bundles may be created, customised, and then applied them to factions, regions, characters etc. While <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> objects may be created and applied using the functions listed here, the interface to customise them is described in the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_new_custom_effect_bundle"><h3 class="function_name"><strong><code>cm:create_new_custom_effect_bundle(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">base effect bundle</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Creates a new custom effect bundle, using the specified effect bundle record as a base. The custom effect bundle is returned as a <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Base effect bundle key, from the <code>effect_bundles</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> custom effect bundle</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_region"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_region(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a region. This replaces any existing effect bundle with the same record.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>REGION_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>region</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_faction"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_faction(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a faction. This replaces any existing effect bundle with the same record.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>FACTION_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>faction</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_character"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_character(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a character. This replaces any existing effect bundle with the same record.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>CHARACTER_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>character</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_force"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_force(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;MILITARY_FORCE_SCRIPT_INTERFACE </strong></code><i class="parameter">military force</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a military force. This replaces any existing effect bundle with the same record.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>MILITARY_FORCE_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>MILITARY_FORCE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>military force</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_faction_province"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_faction_province(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a province. This replaces any existing effect bundle with the same record. The effect bundle will be applied to the portion of the province owned by the owner of the specified region - this can be the whole province if one faction controls it all.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>REGION_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>region</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_custom_effect_bundle_to_characters_force"><h3 class="function_name"><strong><code>cm:apply_custom_effect_bundle_to_characters_force(<br />&emsp;&emsp;CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE </strong></code><i class="parameter">custom effect bundle</i><code><strong>, <br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Applies a custom effect bundle to a character's military force. This replaces any existing effect bundle with the same record.<br />
							For more information about the <code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code> or <code>CHARACTER_SCRIPT_INTERFACE</code> interfaces see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>CUSTOM_EFFECT_BUNDLE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>custom effect bundle</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>character</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Diplomacy"><h2 class="section_header">Diplomacy</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_diplomacy_new"><h3 class="function_name"><strong><code>cm:force_diplomacy_new(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">source faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">bitmask</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">can offer</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">can accept</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Disables or re-enables availability of a set of diplomacy types between factions described in the faction and target specifiers. Specifiers can be <code>all</code>, <code>faction:&lt;faction_key&gt;</code>, <code>subculture:&lt;subculture_key&gt;</code> or <code>culture:&lt;culture_key&gt;</code>.<br />
							The diplomacy types to be allowed or disallowed are specified with a bitmask. Diplomacy types can be included in the bitmask by adding the number corresponding to the diplomacy type to the mask value. This mapping is shown here:<table class="simple"><br />
							<tr><th>Diplomacy Type</th><th>Mask Value</th></tr><br />
							<tr><td>trade agreement</td><td><code>2^0</code></td></tr>

							<tr><td>hard military access</td><td><code>2^1</code></td></tr>

							<tr><td>cancel hard military access</td><td><code>2^2</code></td></tr>

							<tr><td>military alliance</td><td><code>2^3</code></td></tr>

							<tr><td>regions</td><td><code>2^4</code></td></tr>

							<tr><td>technology</td><td><code>2^5</code></td></tr>

							<tr><td>state gift</td><td><code>2^6</code></td></tr>

							<tr><td>payments</td><td><code>2^7</code></td></tr>

							<tr><td>vassal</td><td><code>2^8</code></td></tr>

							<tr><td>peace</td><td><code>2^9</code></td></tr>

							<tr><td>war</td><td><code>2^10</code></td></tr>

							<tr><td>join war</td><td><code>2^11</code></td></tr>

							<tr><td>break trade</td><td><code>2^12</code></td></tr>

							<tr><td>break alliance</td><td><code>2^13</code></td></tr>

							<tr><td>hostages</td><td><code>2^14</code></td></tr>

							<tr><td>marriage</td><td><code>2^15</code></td></tr>

							<tr><td>non aggression pact</td><td><code>2^16</code></td></tr>

							<tr><td>soft military access</td><td><code>2^17</code></td></tr>

							<tr><td>cancel soft military access</td><td><code>2^18</code></td></tr>

							<tr><td>defensive alliance</td><td><code>2^19</code></td></tr>

							<tr><td>client state</td><td><code>2^20</code></td></tr>

							<tr><td>form confederation</td><td><code>2^21</code></td></tr>

							<tr><td>break non aggression pact</td><td><code>2^22</code></td></tr>

							<tr><td>break soft military access</td><td><code>2^23</code></td></tr>

							<tr><td>break defensive alliance</td><td><code>2^24</code></td></tr>

							<tr><td>break vassal</td><td><code>2^25</code></td></tr>

							<tr><td>break client state</td><td><code>2^26</code></td></tr>

							<tr><td>state gift unilateral</td><td><code>2^27</code></td></tr></table>

							The function <code><a href="campaign_manager.html#function:campaign_manager:force_diplomacy">campaign_manager:force_diplomacy</a></code> on the <code><a href="campaign_manager.html#class:campaign_manager">campaign_manager</a></code> interface wraps this function, providing a more useable interface and debug output. It's recommended to call that function rather than directly calling this one.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Specifier that specifies one or more source factions.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Specifier that specifies one or more target factions.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Bitmask.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether the source faction(s) can to offer deals of this diplomacy type to the target faction(s).</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether the target faction(s) can accept deals of this diplomacy type from the source faction(s).</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_declare_war"><h3 class="function_name"><strong><code>cm:force_declare_war(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">attacking faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">invite attacker allies</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">invite defender allies</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">use command queue</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Forces one faction to declare war on another.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the attacking faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the target faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Allows factions allied with the attacker to choose whether to join.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Allows factions allied with the defender to choose whether to join.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=true</i></p>
										<p>Sends the declaration command via the command queue.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_make_vassal"><h3 class="function_name"><strong><code>cm:force_make_vassal(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vassalising faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">vassal faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force one faction to vassalise another faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the faction which will become the master, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the faction which will become the vassal, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_alliance"><h3 class="function_name"><strong><code>cm:force_alliance(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second faction key</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is military alliance</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force two factions to become defensive or military allies.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the first faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the second faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Specifies whether the alliance should be a military alliance. If <code>false</code> is supplied then the alliance is defensive.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_grant_military_access"><h3 class="function_name"><strong><code>cm:force_grant_military_access(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">granting faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipient faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is hard access</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Force one faction to grant another faction military access to its territory.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the granting faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the recipient faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Indicates whether this should be hard military access. This concept is currently unused.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_make_peace"><h3 class="function_name"><strong><code>cm:force_make_peace(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces peace between two warring factions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the first faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the second faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_confederation"><h3 class="function_name"><strong><code>cm:force_confederation(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">proposing faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces a proposing faction to subsume a target faction into its confederation.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the proposing faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the target faction, from the <code>factions</code> table. This faction will be subsumed into the confederation.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_make_trade_agreement"><h3 class="function_name"><strong><code>cm:force_make_trade_agreement(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces a trade agreement between two specified factions. If no agreement is possible then nothing will happen.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the first faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the second faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:make_diplomacy_available"><h3 class="function_name"><strong><code>cm:make_diplomacy_available(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">first faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">second faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Makes diplomacy available between two factions, as if they had discovered each other on the campaign map.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the first faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the second faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_offers_peace_to_other_faction"><h3 class="function_name"><strong><code>cm:faction_offers_peace_to_other_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">proposing faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Compels one faction to offer peace to another faction that it's at war with. The target faction may decline.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the first faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the second faction, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_dilemma_diplomatic_bonus"><h3 class="function_name"><strong><code>cm:apply_dilemma_diplomatic_bonus(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction a key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction a key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">bonus value</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Directly applies a diplomatic bonus or penalty between two factions, as if it had come from a dilemma. The bonus should be an integer between <code>-6</code> and <code>+6</code>, each integer value of which corresponds to a change type (from <code>PENALTY_XXXLARGE</code> (<code>-6</code>) to <code>BONUS_XXXLARGE</code> (<code>+6</code>)) which carries a diplomatic attitude modifier that is actually applied.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>First faction key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Second faction key.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Bonus value (<code>-6</code> to <code>+6</code>).</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Restrictions"><h2 class="section_header">Restrictions</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_event_restricted_unit_record"><h3 class="function_name"><strong><code>cm:add_event_restricted_unit_record(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tooltip key</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a restriction preventing a specified unit from being a recruitment option for any faction.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:string">string</a></code> tooltip key, Key of localised text in full [table]_[field]_[key</i></p>
										<p>Key of localised text in full [table]_[field]_[key] format to show as a tooltip on the restricted unit icon. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_event_restricted_unit_record"><h3 class="function_name"><strong><code>cm:remove_event_restricted_unit_record(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a restriction previously added with <code><a href="#function:episodic_scripting:add_event_restricted_unit_record">cm:add_event_restricted_unit_record</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_event_restricted_unit_record_for_faction"><h3 class="function_name"><strong><code>cm:add_event_restricted_unit_record_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tooltip key</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a restriction preventing a specified unit from being a recruitment option for a specified faction.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:string">string</a></code> tooltip key, Key of localised text in full [table]_[field]_[key</i></p>
										<p>Key of localised text in full [table]_[field]_[key] format to show as a tooltip on the restricted unit icon. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_event_restricted_unit_record_for_faction"><h3 class="function_name"><strong><code>cm:remove_event_restricted_unit_record_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">unit key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a restriction previously added with <code><a href="#function:episodic_scripting:add_event_restricted_unit_record_for_faction">cm:add_event_restricted_unit_record_for_faction</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit key, from the <code>main_units</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_event_restricted_building_record"><h3 class="function_name"><strong><code>cm:add_event_restricted_building_record(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, [<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tooltip key</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Adds a restriction preventing a specified building from being a construction option for any faction.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:string">string</a></code> tooltip key, Key of localised text in full [table]_[field]_[key</i></p>
										<p>Key of localised text in full [table]_[field]_[key] format to show as a tooltip on the restricted building icon. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_event_restricted_building_record"><h3 class="function_name"><strong><code>cm:remove_event_restricted_building_record(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a restriction previously added with <code><a href="#function:episodic_scripting:add_event_restricted_building_record">cm:add_event_restricted_building_record</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_event_restricted_building_record_for_faction"><h3 class="function_name"><strong><code>cm:add_event_restricted_building_record_for_faction(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;[<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tooltip key</i><code><strong>]<br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a restriction preventing a specified building from being a construction option for a specified faction.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil] <code><a href="lua.html#class:string">string</a></code> tooltip key, Key of localised text in full [table]_[field]_[key</i></p>
										<p>Key of localised text in full [table]_[field]_[key] format to show as a tooltip on the restricted building icon. This can be omitted.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_event_restricted_building_record_for_faction"><h3 class="function_name"><strong><code>cm:remove_event_restricted_building_record_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">building key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a restriction previously added with <code><a href="#function:episodic_scripting:add_event_restricted_building_record_for_faction">cm:add_event_restricted_building_record_for_faction</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Building key, from the <code>building_levels</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:lock_technology"><h3 class="function_name"><strong><code>cm:lock_technology(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">technology key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Lock a specified technology and all technologies that are children of it, for a specified faction.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Technology key, from the <code>technologies</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_technology"><h3 class="function_name"><strong><code>cm:unlock_technology(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">technology key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a lock previously placed with <code><a href="#function:episodic_scripting:lock_technology">cm:lock_technology</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Technology key, from the <code>technologies</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_movement_for_character"><h3 class="function_name"><strong><code>cm:disable_movement_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents the specified character from moving, regardless of where the move order comes from, until movement is subsequently re-enabled with <code><a href="#function:episodic_scripting:enable_movement_for_faction">cm:enable_movement_for_faction</a></code> or <code><a href="#function:episodic_scripting:enable_movement_for_character">cm:enable_movement_for_character</a></code>.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_movement_for_faction"><h3 class="function_name"><strong><code>cm:disable_movement_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents all characters in the specified faction from moving, regardless of where the move order comes from, until movement is subsequently re-enabled with <code><a href="#function:episodic_scripting:enable_movement_for_faction">cm:enable_movement_for_faction</a></code> or <code><a href="#function:episodic_scripting:enable_movement_for_character">cm:enable_movement_for_character</a></code>. Note that characters created in the faction after this restriction is applied will not have this restriction applied and will be able to move.<br />
							This setting is saved into the campaign save file when the game is saved, and automatically re-established when the campaign is reloaded.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:enable_movement_for_character"><h3 class="function_name"><strong><code>cm:enable_movement_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Re-enables movement for a specified character after it has been disabled with <code><a href="#function:episodic_scripting:disable_movement_for_character">cm:disable_movement_for_character</a></code> or <code><a href="#function:episodic_scripting:disable_movement_for_faction">cm:disable_movement_for_faction</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:enable_movement_for_faction"><h3 class="function_name"><strong><code>cm:enable_movement_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Re-enables movement for every character in the specified faction after it has been disabled with <code><a href="#function:episodic_scripting:disable_movement_for_character">cm:disable_movement_for_character</a></code> or <code><a href="#function:episodic_scripting:disable_movement_for_faction">cm:disable_movement_for_faction</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:disable_pathfinding_restriction"><h3 class="function_name"><strong><code>cm:disable_pathfinding_restriction(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Disables a pathfinding restriction layer. These are layers that can be built into the campaign map data that prevent the player from being able to move into an area on the map. By calling this function to lift a restriction, the player will be able to pathfind into the new area.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Pathfinding restriction layer id to un-restrict. Layers are numbered sequentially - lifting the restriction on one layer will also lift it on all layers with a lower numerical id.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Racial Mechanics"><h2 class="section_header">Racial Mechanics</h2></a>
				</div>
				<p>The functions described in this section affect racial mechanics that are generally specific to one or only a few races in the game. Avoid calling them for factions that aren't party to the racial mechanic in question.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:modify_faction_slaves_in_a_faction"><h3 class="function_name"><strong><code>cm:modify_faction_slaves_in_a_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">change</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Modify the number of faction slaves in the specified faction. The change can be positive or negative. This function will only have an affect if the target faction makes use of the slaves mechanic.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Value to modify slaves by.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:modify_faction_slaves_in_a_faction_province"><h3 class="function_name"><strong><code>cm:modify_faction_slaves_in_a_faction_province(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">region key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">change</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Modify the number of faction slaves in the province containing a specified region. The change can be positive or negative. This function will only have an affect if the target faction makes use of the slaves mechanic.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Region key, from the <code>campaign_map_regions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Value to modify slaves by.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_set_food_factor_multiplier"><h3 class="function_name"><strong><code>cm:faction_set_food_factor_multiplier(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">food factor key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">multiplier</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the multiplier of a scripted food type for a specified faction. The amount of food of this type this faction will earn per-turn will be multiplied by this amount.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Food factor key, from the <code>food_factors</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Multiplier.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_set_food_factor_value"><h3 class="function_name"><strong><code>cm:faction_set_food_factor_value(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">food factor key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">modifier</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the per-turn modifier of a scripted food type for a specified faction. This is the amount of food of this type this faction will earn per-turn.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Food factor key, from the <code>food_factors</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Modifier.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_mod_food_factor_value"><h3 class="function_name"><strong><code>cm:faction_mod_food_factor_value(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">food factor key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">modifier</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Modifies the per-turn modifier of a scripted food type for a specified faction. This is the amount of food of this type this faction will earn per-turn.<br />
							The supplied value is added to the existing modifier value.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Food factor key, from the <code>food_factors</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Modifier.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_add_pooled_resource"><h3 class="function_name"><strong><code>cm:faction_add_pooled_resource(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">resource key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">factor key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">amount</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Add the specified amount to the specified resource pool (type of resource), as the specified factor (type of change). The supplied value will be clamped to pool and factor bounds.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Pooled resource key, from the <code>pooled_resources</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Change factor key, from the <code>pooled_resource_factors</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Amount of resource to add. This value can be negative.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:perform_ritual"><h3 class="function_name"><strong><code>cm:perform_ritual(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">performing faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Perform a ritual for a faction. The ritual must be available and valid for the action to succeed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the faction performing the ritual, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key of the target faction of the ritual, from the <code>factions</code> table. An empty <code><a href="lua.html#class:string">string</a></code> may be supplied, in which case the performing faction is the target.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual key, from the <code>rituals</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:create_new_ritual_setup"><h3 class="function_name"><strong><code>cm:create_new_ritual_setup(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">performing faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Creates and returns a new MODIFY_RITUAL_SETUP_SCRIPT_INTERFACE, related to a ritual record from the database. This can be then be used to query, modify and trigger a ritual in script.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction to perform the ritual.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual key, from the <code>rituals</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:perform_ritual_with_setup"><h3 class="function_name"><strong><code>cm:perform_ritual_with_setup(RITUAL_SETUP_SCRIPT_INTERFACE </strong></code><i class="parameter">interface ritual setup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Perform a ritual with the provided setup. It must be available and valid for this call to succeed. Both modify and standard ritual setup interfaces are valid for this method

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>RITUAL_SETUP_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Ritual setup to use. This can be either a RITUAL_SETUP_SCRIPT_INTERFACE or a MODIFY_RITUAL_SETUP_SCRIPT_INTERFACE object.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:rollback_linked_ritual_chain"><h3 class="function_name"><strong><code>cm:rollback_linked_ritual_chain(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual chain key</i><code><strong>, number </strong></code><i class="parameter">stage</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Rolls back a linked ritual chain to the specified stage. It is safe to call this function if the ritual chain isn't at this stage yet.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual chain key, from the <code>campaign_group_ritual_chains</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>number</code></p>
									</td>
									<td>
										<p>Stage number.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:lock_ritual"><h3 class="function_name"><strong><code>cm:lock_ritual(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Lock a ritual for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual key, from the <code>rituals</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_ritual"><h3 class="function_name"><strong><code>cm:unlock_ritual(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unlock a ritual for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual key, from the <code>rituals</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration, number of rounds the ritual will be unlocked for. Zero or negative will be infinite.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:lock_ritual_chain"><h3 class="function_name"><strong><code>cm:lock_ritual_chain(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual_chain_key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Lock a ritual chain for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual chain key, from the <code>ritual_chains</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_ritual_chain"><h3 class="function_name"><strong><code>cm:unlock_ritual_chain(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual chain key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unlock a ritual chain for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual Chain key, from the <code>ritual_chains</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration, number of rounds the ritual chain will be unlocked for. Zero or negative will be infinite.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:lock_rituals_in_category"><h3 class="function_name"><strong><code>cm:lock_rituals_in_category(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual_category_key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Lock all rituals in a category for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual category key, from the <code>ritual_categories</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_rituals_in_category"><h3 class="function_name"><strong><code>cm:unlock_rituals_in_category(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ritual_category_key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">duration</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Unlocks all rituals in a category for a faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ritual category key, from the <code>ritual_categories</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Duration, number of rounds the rituals in the category will be unlocked for. Zero or negative will be infinite.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_active_ritual"><h3 class="function_name"><strong><code>cm:apply_active_ritual(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, ACTIVE_RITUAL_SCRIPT_INTERFACE </strong></code><i class="parameter">ritual</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Applies the effect of a ritual that is active right now. This is used in conjunction with the <code>delay_payload_application</code> field of the <code>rituals</code> database table. Should this field be set for a ritual, then that ritual will not apply its payload effects when triggered until this function or <code><a href="#function:episodic_scripting:apply_active_rituals">cm:apply_active_rituals</a></code> is called.<br />
							Calls to this function will not succeed if the ritual has not been actively triggered.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>ACTIVE_RITUAL_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target ritual.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:apply_active_rituals"><h3 class="function_name"><strong><code>cm:apply_active_rituals(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Applies the effect of all rituals that are active for a faction right now. This is used in conjunction with the <code>delay_payload_application</code> field of the <code>rituals</code> database table. Should this field be set for a ritual, then that ritual will not apply its payload effects when triggered until this function or <code><a href="#function:episodic_scripting:apply_active_ritual">cm:apply_active_ritual</a></code> is called.<br />
							Calls to this function will not succeed if the ritual has not been actively triggered.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target faction.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_plague_at_settlement"><h3 class="function_name"><strong><code>cm:spawn_plague_at_settlement(SETTLEMENT_SCRIPT_INTERFACE </strong></code><i class="parameter">settlement</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">plague key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Spawn a plague at a settlement.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>SETTLEMENT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target settlement.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Plague key, from the <code>plagues</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_plague_at_region"><h3 class="function_name"><strong><code>cm:spawn_plague_at_region(REGION_SCRIPT_INTERFACE </strong></code><i class="parameter">region</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">plague key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Spawn a plague in a region.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>REGION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target region.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Plague key, from the <code>plagues</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:spawn_plague_at_military_force"><h3 class="function_name"><strong><code>cm:spawn_plague_at_military_force(MILITARY_FORCE_SCRIPT_INTERFACE </strong></code><i class="parameter">military force</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">plague key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Spawn a plague at a military force.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>MILITARY_FORCE_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Target military force.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Plague key, from the <code>plagues</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_set_unit_purchasable_effect_availability"><h3 class="function_name"><strong><code>cm:faction_set_unit_purchasable_effect_availability(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">purchasable effect key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">available</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets a unit purchasable effect to be available or unavailable for a specified faction. Unit purchasable effects are upgrades for units, which is supported for some factions/races.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the target faction, from the <code>factions</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of the purchasable effect, from the <code>unit_purchasable_effects</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether the purchasable effect should be available or not.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_purchase_unit_effect"><h3 class="function_name"><strong><code>cm:faction_purchase_unit_effect(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;UNIT_SCRIPT_INTERFACE </strong></code><i class="parameter">unit</i><code><strong>, <br />&emsp;&emsp;UNIT_PURCHASABLE_EFFECT_SCRIPT_INTERFACE </strong></code><i class="parameter">purchasable effect</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Makes the supplied faction purchase a supplied effect for a supplied unit. All arguments are specified by model hierarchy objects - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>faction</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>UNIT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>unit</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>UNIT_PURCHASABLE_EFFECT_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>purchasable effect</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_set_unit_purchasable_effect_lock_state"><h3 class="function_name"><strong><code>cm:faction_set_unit_purchasable_effect_lock_state(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">purchasable effect</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">lock reason</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should lock</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Locks or unlocks the purchasable unit effect faction-wide, with an optional lock reason record. The purchasable effect is specified by string key. The faction is specified by <code>FACTION_SCRIPT_INTERFACE</code> - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Unit purchasable effect. This should be a key from the <code>unit_purchasable_effects</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Lock reason. This should be a key from the <code>unit_purchasable_effect_lock_reasons</code> database table. A blank string may be supplied to not provide a lock reason.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Should lock - supply <code>true</code> to lock the effect, and <code>false</code> to unlock it.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_imprison_character"><h3 class="function_name"><strong><code>cm:faction_imprison_character(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">imprisoning faction</i><code><strong>, <br />&emsp;&emsp;CHARACTER_SCRIPT_INTERFACE </strong></code><i class="parameter">imprisoned character</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Puts the supplied character into the supplied faction's prison. The faction and character are specified by model hierarchy objects - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>imprisoning faction</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>CHARACTER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>imprisoned character</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:faction_perform_action_on_prisoner"><h3 class="function_name"><strong><code>cm:faction_perform_action_on_prisoner(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;FAMILY_MEMBER_SCRIPT_INTERFACE </strong></code><i class="parameter">character</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">action</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Performs an action on a character within the faction's prison. The faction and character (family member) are specified by model hierarchy objects - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Imprisoning faction.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>FAMILY_MEMBER_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Imprisoned character - this is specified as a family member.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Action to perform. This should be a key from the <code>campaign_prison_actions</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cook_recipe"><h3 class="function_name"><strong><code>cm:cook_recipe(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipe</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Attempt to cook a recipe for a faction. The default ingredients will be used.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Recipe to cook. This should be a key from the <code>cooking_recipes</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> attempt was successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cook_recipe_with_ingredients"><h3 class="function_name"><strong><code>cm:cook_recipe_with_ingredients(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipe</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">primary ingredients</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">secondary ingredients</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Attempt to cook a recipe for a faction with the specified ingredients. The ingredients lists should be specified as tables of strings.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Recipe to cook. This should be a key from the <code>cooking_recipes</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Table containing a list of <code><a href="lua.html#class:string">string</a></code> values. Each should be a key from the <code>cooking_ingredients</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Table containing a list of <code><a href="lua.html#class:string">string</a></code> values. Each should be a key from the <code>cooking_ingredients</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> attempt was successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_cook_recipe"><h3 class="function_name"><strong><code>cm:force_cook_recipe(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipe</i><code><strong>, <code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">apply cost</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force a recipe to be cooked for a faction. The default ingredients will be used.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Recipe to cook. This should be a key from the <code>cooking_recipes</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Apply the recipe cost.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> attempt was successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_cook_recipe_with_ingredients"><h3 class="function_name"><strong><code>cm:force_cook_recipe_with_ingredients(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipe</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">primary ingredients</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:table">table</a></code> </strong></code><i class="parameter">secondary ingredients</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">apply cost</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Force a recipe to be cooked for a faction with the specified ingredients. The ingredients lists should be specified as tables of strings.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Recipe to cook. This should be a key from the <code>cooking_recipes</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Table containing a list of <code><a href="lua.html#class:string">string</a></code> values. Each should be a key from the <code>cooking_ingredients</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:table">table</a></code></code></p>
									</td>
									<td>
										<p>Table containing a list of <code><a href="lua.html#class:string">string</a></code> values. Each should be a key from the <code>cooking_ingredients</code> database table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Apply the recipe cost.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> attempt was successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_cooking_ingredient"><h3 class="function_name"><strong><code>cm:unlock_cooking_ingredient(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">ingredient</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unlock an ingredient for a faction. The ingredient must be permitted for the faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Ingredient key, from the <code>cooking_ingredients</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:unlock_cooking_recipe"><h3 class="function_name"><strong><code>cm:unlock_cooking_recipe(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">recipe</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Unlock a cooking recipe for a faction. The recipe must be permitted for the faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Recipe key, from the <code>cooking_recipes</code> database table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:clear_active_cooking_recipe"><h3 class="function_name"><strong><code>cm:clear_active_cooking_recipe(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Clears the active recipe for the specified faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> recipe was cleared</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_faction_max_primary_cooking_ingredients"><h3 class="function_name"><strong><code>cm:set_faction_max_primary_cooking_ingredients(FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max ingredients</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the maximum number of primary ingredients that the specified faction may cook with. This value is clamped between 0 and 10.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Maximum number of ingredients.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:set_faction_max_secondary_cooking_ingredients"><h3 class="function_name"><strong><code>cm:set_faction_max_secondary_cooking_ingredients(<br />&emsp;&emsp;FACTION_SCRIPT_INTERFACE </strong></code><i class="parameter">faction</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">max ingredients</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets the maximum number of secondary ingredients that the specified faction may cook with. This value is clamped between 0 and 10.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>FACTION_SCRIPT_INTERFACE</code></p>
									</td>
									<td>
										<p>Faction object - see the <code><a href="campaign_index.html#section:campaign_index:Model Hierarchy">Model Hierarchy</a></code> documentation for more information.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Maximum number of ingredients.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:Next Battle & Campaign"><h2 class="section_header">Next Battle & Campaign</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:add_custom_battlefield"><h3 class="function_name"><strong><code>cm:add_custom_battlefield(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">x</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">y</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">radius</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">dump campaign</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">loading screen override</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">script override</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">whole battle override</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">human alliance</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">launch immediately</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">is land battle</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">force autoresolve result</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Adds a record which modifies or completely overrides a battle involving the local player generated from campaign, if that battle happens within a certain supplied radius of a supplied campaign anchor position. Aspects of the battle may be specified, such as the loading screen and script to use, or the entire battle may be subsituted with an xml battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Id for this custom battle record. This may be used to later remove this override with <code><a href="#function:episodic_scripting:remove_custom_battlefield">cm:remove_custom_battlefield</a></code>.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>X logical co-ordinate of anchor position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Y logical co-ordinate of anchor position.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Radius around anchor position. If a battle is launched within this radius of the anchor position and it involves the local player, then the battle is modified/overridden.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>If set to <code>true</code>, the battle makes no attempt to load back into this campaign after completion.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Key of a custom loading screen to use, from the <code>custom_loading_screens</code> table. A blank string may be supplied to not override the loading screen. This is ignored if the entire battle is overriden with a battle xml, as that may specify a loading screen override.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Path to a script file to load with the battle, from the working data folder. A blank string may be supplied to not override the loading screen. This is ignored if the entire battle is overriden with a battle xml, as that may specify a script override.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>8</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Path to an battle xml file which overrides the whole battle.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>9</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Sets the index of the human alliance, 0 or 1, if setting a battle xml to override the whole battle. If not setting a battle xml this number is ignored.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>10</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Launch the battle immediately without saving the campaign first.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>11</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Sets whether the following battle is a land battle. This is only required if when launching the battle immediately.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>12</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>If set to <code>true</code>, this forces the application of the autoresolver to the battle result after the battle, regardless of what happened in the battle itself. This is of most use for faking a battle result of an xml battle, which would otherwise return with no result.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:remove_custom_battlefield"><h3 class="function_name"><strong><code>cm:remove_custom_battlefield(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">id</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes a custom battle override previously set with <code><a href="#function:episodic_scripting:add_custom_battlefield">cm:add_custom_battlefield</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>id</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:win_next_autoresolve_battle"><h3 class="function_name"><strong><code>cm:win_next_autoresolve_battle(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							The specified faction will win the next autoresolve battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:modify_next_autoresolve_battle"><h3 class="function_name"><strong><code>cm:modify_next_autoresolve_battle(<br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">attacker win chance</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">defender win chance</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">attacker losses modifier</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">defender losses modifier</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">kill loser</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Modifies the result of the next autoresolved battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Attacker win chance as a unary (0-1) value.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Defender win chance as a unary (0-1) value.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Multiplier for losses sustained by the attacker.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Multiplier for losses sustained by the defender.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>Forces the loser of the battle to be wiped out if set to <code>true</code>.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:skip_winds_of_magic_gambler"><h3 class="function_name"><strong><code>cm:skip_winds_of_magic_gambler(<code><a href="lua.html#class:boolean">boolean</a></code> </strong></code><i class="parameter">should skip</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Sets whether the winds of magic gambler panel should be shown in the next player battle or not. The setting only affects the next battle.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:boolean">boolean</a></code></code></p>
									</td>
									<td>
										<p>should skip</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:override_attacker_win_chance_prediction"><h3 class="function_name"><strong><code>cm:override_attacker_win_chance_prediction(<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">chance</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Set the attackers predicted win chance percentage for the next battle, affecting the balance of power shown on the pre-battle screen. This will not change the result.<br />
							This function will only work if called while the pending battle is being set up.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Chance as a percentage, so a value of <code>50</code> would display a 50/50 attacker/defender balance.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:pending_battle_add_scripted_tile_upgrade_tag"><h3 class="function_name"><strong><code>cm:pending_battle_add_scripted_tile_upgrade_tag(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tile upgrade key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Adds the specified tile upgrade to the currently active pending battle. This should match the key of a tile upgrade set within the map data of the tile the battle will be fought on, so its use is highly situational.<br />
							The function will only work if called while the pending battle is being set up.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>tile upgrade key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> upgrade was successful</li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:pending_battle_remove_scripted_tile_upgrade_tags"><h3 class="function_name"><strong><code>cm:pending_battle_remove_scripted_tile_upgrade_tags(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">tile upgrade key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Removes the specified tile upgrade from the currently active pending battle. The function will only work if called while the pending battle is being set up.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>tile upgrade key</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="lua.html#class:boolean">boolean</a></code></code> upgrade was successful</li>
							</ol>
						</dd>
					</dl>
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:episodic_scripting:AI"><h2 class="section_header">AI</h2></a>
				</div>
				<p>The functions in this section relate to campaign AI. Some functions allow blocking or promotion of strategic stances, which is a driver of how much an AI faction is predisposed to like another faction. Strategic stances may be specified by one of the following strings:<table class="simple"></p>
				<p><tr><th>Stance by string</th></tr></p>
				<p><tr><td>CAI_STRATEGIC_STANCE_BEST_FRIENDS</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_BEST_FRIENDS</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_VERY_FRIENDLY</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_FRIENDLY</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_NEUTRAL</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_UNFRIENDLY</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_VERY_UNFRIENDLY</td></tr></p>
				<p><li>CAI_STRATEGIC_STANCE_BITTER_ENEMIES</td></tr></table></p>
				<p>Strategic stances are different to, but loosely correlated with, the attitude score that is shown on the diplomacy screen. Generally speaking, diplomatic events (e.g. gifts, trespassing) lead to changes in attitude, which leads to changes in strategic stance, which leads to changes in behaviour. By setting two hostile factions to be best friends they will start being generally nicer to one another while still appearing to be hostile (although their attitude will likely improve over time due to positive events).</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:force_change_cai_faction_personality"><h3 class="function_name"><strong><code>cm:force_change_cai_faction_personality(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">personality key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Force the specified faction to adopt the specified AI personality.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Personality key, from the <code>cai_personalities</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_block_all_stances_but_that_specified_towards_target_faction"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_block_all_stances_but_that_specified_towards_target_faction(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">strategic stance key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets one faction's stance towards another to the supplied strategic stance.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Strategic stance key - see the list at the top of this section.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_promote_specified_stance_towards_target_faction"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_promote_specified_stance_towards_target_faction(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">strategic stance key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Makes it much more likely that one faction's stance towards another will be the supplied strategic stance.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Strategic stance key - see the list at the top of this section.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_force_personality_change"><h3 class="function_name"><strong><code>cm:cai_force_personality_change(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Forces the specified faction to pick a new AI personality from their available pool. "All" may be supplied in place of a faction key to force all factions to change personalities.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table, or "all".</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_force_personality_change_with_override_round_number"><h3 class="function_name"><strong><code>cm:cai_force_personality_change_with_override_round_number(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">round number</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Within the ai personality assignment system it is possible to set up weightings between rounds and personalities, allowing for certain personalities to be more or less likely to be chosen depending on the turn number (so the AI changes behaviour over time). This command forces the specified faction to pick a new AI personality from their available pool, based on the supplied round number rather than the actual round number. "All" may be supplied in place of a faction key to force all factions to change personalities in this way.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table, or "all".</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Override for turn/round number.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_force_stance_update_between_factions"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_force_stance_update_between_factions(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Forces a stance update from one faction to another faction. The AI picks an appropriate new strategic stance.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_set_stance_promotion_between_factions_for_a_given_stance"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_set_stance_promotion_between_factions_for_a_given_stance(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">strategic stance key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">start round</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">start level</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">end round</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">end level</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Sets up a process which promotes a particular strategic stance from one faction to a target faction over a number of turns.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Strategic stance key - see the list at the top of this section.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Starting round number.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>5</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Starting stance level. This is a numerical indicator of how likely this stance is to be chosen.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>6</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>End round number.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>7</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>End stance level. This is a numerical indicator of how likely this stance is to be chosen.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_clear_all_promotions_between_factions"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_clear_all_promotions_between_factions(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Clears any existing scripted stance promotions from one faction to a target faction.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_set_stance_blocking_between_factions_for_a_given_stance"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_set_stance_blocking_between_factions_for_a_given_stance(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">strategic stance key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:number">number</a></code> </strong></code><i class="parameter">round number</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Blocks a specific strategic stance from one faction to another faction until a specified round number.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Strategic stance key - see the list at the top of this section.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:number">number</a></code></code></p>
									</td>
									<td>
										<p>Final round number (inclusive) of blocking behaviour.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_strategic_stance_manager_clear_all_blocking_between_factions"><h3 class="function_name"><strong><code>cm:cai_strategic_stance_manager_clear_all_blocking_between_factions(<br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>, <br />&emsp;&emsp;<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">target faction key</i><code><strong><br />)</code></strong></h3></a>
						</dt>
						<dd>
							Clears any existing scripted stance promotions between one faction and a target.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Target faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_disable_movement_for_character"><h3 class="function_name"><strong><code>cm:cai_disable_movement_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents the AI from being able to move a character. Other sources of character movement (e.g. the script or the player) will work as normal.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_enable_movement_for_character"><h3 class="function_name"><strong><code>cm:cai_enable_movement_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Allows the AI to move a character again after it was previously blocked with <code><a href="#function:episodic_scripting:cai_disable_movement_for_character">cm:cai_disable_movement_for_character</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_disable_movement_for_faction"><h3 class="function_name"><strong><code>cm:cai_disable_movement_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents the AI from being able to move any characters in a faction. Other sources of character movement (e.g. the script or the player) will work as normal.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_enable_movement_for_faction"><h3 class="function_name"><strong><code>cm:cai_enable_movement_for_faction(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">faction key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Allows the AI to move characters in a faction again after it was previously blocked with <code><a href="#function:episodic_scripting:cai_disable_movement_for_faction">cm:cai_disable_movement_for_faction</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Faction key, from the <code>factions</code> table.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_disable_command_assignment_for_character"><h3 class="function_name"><strong><code>cm:cai_disable_command_assignment_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents the AI from assigning the specified character to a position of command.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_enable_command_assignment_for_character"><h3 class="function_name"><strong><code>cm:cai_enable_command_assignment_for_character(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">character lookup</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Allows the AI to assigning the specified character to a position of command again after it was previously blocked with <code><a href="#function:episodic_scripting:cai_disable_command_assignment_for_character">cm:cai_disable_command_assignment_for_character</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Character lookup string - see <code><a href="#section:episodic_scripting:Character Lookups">Character Lookups</a></code> for more information.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_disable_targeting_against_settlement"><h3 class="function_name"><strong><code>cm:cai_disable_targeting_against_settlement(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prevents any AI faction from targeting a specified settlement for capture for the rest of the campaign. This setting can be later cleared with <code><a href="#function:episodic_scripting:cai_enable_targeting_against_settlement">cm:cai_enable_targeting_against_settlement</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Settlement key, from the <code>campaign_map_settlements</code> database table. This will be <code>settlement:</code> followed by the region key.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:episodic_scripting:cai_enable_targeting_against_settlement"><h3 class="function_name"><strong><code>cm:cai_enable_targeting_against_settlement(<code><a href="lua.html#class:string">string</a></code> </strong></code><i class="parameter">settlement key</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Clears any restriction previously set with <code><a href="#function:episodic_scripting:cai_disable_targeting_against_settlement">cm:cai_disable_targeting_against_settlement</a></code>, allowing AI factions to target a specified settlement for capture again.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="lua.html#class:string">string</a></code></code></p>
									</td>
									<td>
										<p>Settlement key, from the <code>campaign_map_settlements</code> database table. This will be <code>settlement:</code> followed by the region key.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
						</dd>
					</dl>
				</div>


			</div>

		</div>

		<div id="about">Last updated 02/16/21 07:19:45</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "Campaign"; const path_to_document_root = "../";</script>

</body>
</html>