<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
	<title>Lua Language</title>
	<link rel="stylesheet" href="../stylesheet.css" type="text/css" />
</head>

<body>

	<a name="top"></a>

	<div id="container">

		<div style="background-color:#ffece2" id="main">

			<div style="background-color:#ffece2" id="navigation_left">
				<br/>
				<h1 class="navigation_header"><i>Frontend Documentation</i></h1>
				<a href="../index.html">Scripting Homepage</a>
				<h2 style="background-color:#ffc8a8">Search</h2>
				<ul>
				<form id="search_env_checkbox" class="search_env_checkbox">
					<label for="search_current_env_only">Search frontend only</label>
					<input type="checkbox" name="search_current_env_only" checked /><br />
				</form>
				<form id="search" class="search_form" onsubmit="return false">
					<input class="search_input" type="text" placeholder="Search.."/><br />
					<div id="search_dropdown" class="search_dropdown"></div>
				</form>				<h2 style="background-color:#ffc8a8">Game Areas</h2>
				<ul>
					<li><a href="../campaign/campaign_index.html">Campaign Index</a></li>
					<li><a href="../battle/battle_index.html">Battle Index</a></li>
					<li><strong> > Frontend Index</strong></li>
				</ul>

				<h2 style="background-color:#ffc8a8">On this page</h2>
				<ul>
				<div class="key">
					<strong>Key</strong>
					<table class="key">
						<tr>
							<td width="75%">Loaded in Battle</td>
							<td><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Campaign</td>
							<td><img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="10" width="10" /></td>
						</tr>
						<tr>
							<td width="75%">Loaded in Frontend</td>
							<td><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></td>
						</tr>
					</table>
				</div>
					<li><a href="#class:lua">Lua Language</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:lua:More Information">More Information</a></li>
						<li>&emsp;&emsp;<a href="#section:lua:Lua Data Types">Lua Data Types</a></li>
						<li>&emsp;&emsp;<a href="#section:lua:Local and Global Variables">Local and Global Variables</a></li>
						<li>&emsp;&emsp;<a href="#section:lua:if statements">if statements</a></li>
						<li>&emsp;&emsp;<a href="#section:lua:Conditional Operators">Conditional Operators</a></li>
						<li>&emsp;&emsp;<a href="#section:lua:Standard Functions">Standard Functions</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:lua:print">print</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:lua:type">type</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:lua:tostring">tostring</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:lua:tonumber">tonumber</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:lua:loadstring">loadstring</a></li>
					</ul>
					<li><a href="#class:nil">Nil</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>
					<li><a href="#class:boolean">Booleans</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>
					<li><a href="#class:number">Numbers</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>
					<li><a href="#class:string">Strings</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
						<li>&emsp;&emsp;<a href="#section:string:String Patterns">String Patterns</a></li>
						<li>&emsp;&emsp;<a href="#section:string:String Library">String Library</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:byte">byte</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:char">char</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:dump">dump</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:find">find</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:format">format</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:gmatch">gmatch</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:gsub">gsub</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:len">len</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:lower">lower</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:match">match</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:rep">rep</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:reverse">reverse</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:sub">sub</a></li>
							<li>&emsp;&emsp;&emsp;&emsp;<a href="#function:string:upper">upper</a></li>
					</ul>
					<li><a href="#class:function">Functions</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>
					<li><a href="#class:table">Tables</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>
					<li><a href="#class:userdata">Userdata</a><img alt="loaded in campaign" style="float:right; margin-right:1em;" src="../images/loaded_in_campaign.png" height="10" width="10" /><img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="10" width="10" /><img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="10" width="10" /></li>
					<ul>
					</ul>

				</ul>
			</div>

			<div style="background-color:#ffece2" id="navigation_right">				<h2 style="background-color:#ffc8a8">Frontend Topics</h2>
				<ul>
					<li><a href="frontend_index.html">Frontend Index</a></li>
					<li><strong> > Lua Language</strong></li>
					<li><a href="scripted_events.html">Scripted Events</a></li>

				</ul>

				<h2 style="background-color:#ffc8a8">Game Code Pages</h2>
				<ul>
					<li><a href="effect.html">Effect</a></li>
					<li><a href="frontend.html">Frontend</a></li>
					<li><a href="scriptedvalueregistry.html">ScriptedValueRegistry</a></li>
					<li><a href="uicomponent.html">UIComponents</a></li>

				</ul>

				<h2 style="background-color:#ffc8a8">Script Pages</h2>
				<ul>
					<li><a href="core_object.html">Core</a></li>
					<li><a href="campaign_interface.html">Campaign Interface</a></li>
					<li><a href="global.html">Global</a></li>
					<li><a href="script_messager.html">Script Messager</a></li>
					<li><a href="text_pointer.html">Text Pointers</a></li>
					<li><a href="timer_manager.html">Timer Manager</a></li>

				</ul>
			</div>

			<div id="content">
				<a name="class:lua"><h1 class="content_header">Lua Language</h1></a>
				<p>Lua is an interpreted language that is used for scripting in Total War. It's lightweight, fast, and easy to use.</p>
				<p>Lua instructions are written in a text file, which is generally given a <code>.lua</code> file extension. The game looks to load certain script files when loading, and may be configured to load specific scripts when loading a particular campaign or battle.</p>
				<p>Version 5.1 of lua is used in Total War scripting - the latest at time of writing is version 5.3.5.</p>
				<p>Whitespace in lua is ignored, so scripts can be spaced out according to the scripters preference. Lua statements may optionally be terminated with a semicolon. Individual lines may be commented with <code>--</code> - this causes the rest of the line to be ignored. Blocks of script of any size may be commented with <code>--[[ script ]]</code>. These blocks may not be nested, however.</p>
				<p>Lua is case-sensitive, so variables named <code>value</code>, <code>Value</code> and <code>VALUE</code> are all different. This is a common source of bugs.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 -- this line is commented<br />
					 --[[<br />
					 this line is also commented<br />
					 ]]<br />
					 value = 6<br />
					 print(value);&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- semicolon optional<br />
					 print(Value)<br />
				</code></div>
				<div id="example_result"><code>
					6<br />
					nil<br />
				</code></div>
							<table class="loaded_in" style="margin-top: 1em;">
								<tr>
									<td>
										Relevant in Battle
									</td>
									<td>
										<img alt="loaded in battle" style="float:right;" src="../images/loaded_in_battle.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Relevant in Campaign
									</td>
									<td>
										<img alt="loaded in campaign" style="float:right;" src="../images/loaded_in_campaign.png" height="18" width="18" />
									</td>
								</tr>
								<tr>
									<td>
										Relevant in Frontend
									</td>
									<td>
										<img alt="loaded in frontend" style="float:right;" src="../images/loaded_in_frontend.png" height="18" width="18" />
									</td>
								</tr>
							</table>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:More Information"><h2 class="section_header">More Information</h2></a>
				</div>
				<p>More information about lua can be found on the following sites:</p>
				<p><table class="simple"><tr><td><a href="https://www.lua.org">https://www.lua.org</a></td><td>Lua homepage.</td></tr></p>
				<p><tr><td><a href="https://www.lua.org/demo.html">https://www.lua.org/demo.html</a></td><td>Lua demo site - allows snippets of script to be tested outside of the game (very useful).</td></tr></p>
				<p><tr><td><a href="https://www.lua.org/manual/5.1/">https://www.lua.org/manual/5.1/</a></td><td>The lua manual.</td></tr></p>
				<p><tr><td><a href="http://lua-users.org/wiki/">http://lua-users.org/wiki/</a></td><td>Lua wiki - contains useful information about supplied libraries.</td></tr></p>
				<p><tr><td><a href="https://www.tutorialspoint.com/lua/">https://www.tutorialspoint.com/lua/</a></td><td>Lua tutorial - others are available.</td></tr></table></p>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:Lua Data Types"><h2 class="section_header">Lua Data Types</h2></a>
				</div>
				<p>Lua supports only eight data types, six of which are documented further down this page:</p>
				<p><table class="simple"><tr><th>Data Type</th><th>Description</th></tr></p>
				<p><tr><td><code><a href="#">nil</a></code></td><td>The absence of a value.</td></tr></p>
				<p><tr><td><code><a href="#">boolean</a></code></td><td><code>true</code>/<code>false</code> values.</td></tr></p>
				<p><tr><td><code><a href="#">number</a></code></td><td>Floating-point numeric values.</td></tr></p>
				<p><tr><td><code><a href="#">string</a></code></td><td>Text values.</td></tr></p>
				<p><tr><td><code><a href="#">function</a></code></td><td>Executable chunks of script.</td></tr></p>
				<p><tr><td><code><a href="#">table</a></code></td><td>Dynamically-sized key/value lists, may be used to build complex data structures.</td></tr></p>
				<p><tr><td><code>thread</code></td><td>Represents independent threads of execution - not supported in Total War scripting.</td></tr></p>
				<p><tr><td><code>userdata</code></td><td>Objects provided by the host code to script, usually with an interface on which script may make function calls.</td></tr></table></p>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:Local and Global Variables"><h2 class="section_header">Local and Global Variables</h2></a>
				</div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:if statements"><h2 class="section_header">if statements</h2></a>
				</div>
				<p>An <code>if</code> statement may be used to perform a logical test and, based on the boolean result of that test, execute different blocks of instruction. An <code>if</code> statement will execute a block of script specified by a mandatory <code>then</code> operator if the logical test evaluates to <code>true</code>, or a second optional block specified by an <code>else</code> operator if it doesn't. Each <code>if</code> statement must be terminated by the keyword <code>end</code>.</p>
				<p>An <code>else</code> operator following another <code>if</code> statement may be combined into an <code>elseif</code> operator. Converting nested <code>if</code> statements to <code>elseif</code> operators in this way saves on having to terminate each <code>if</code> statement with <code>end</code> - see the example below.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 t = true<br />
					 f = false<br />
					 <br />
					 if t == true then<br />
					 &emsp;&emsp;&emsp;&emsp;print("t is true")<br />
					 end<br />
					 <br />
					 if f == true then<br />
					 &emsp;&emsp;&emsp;&emsp;print("f is true")<br />
					 else<br />
					 &emsp;&emsp;&emsp;&emsp;print("f is false")<br />
					 end<br />
					 <br />
					 n = 28<br />
					 <br />
					 if n < 5 then<br />
					 &emsp;&emsp;&emsp;&emsp;print("n is less than 5")<br />
					 elseif n < 10 then<br />
					 &emsp;&emsp;&emsp;&emsp;print("n is less than 10")<br />
					 elseif n < 15 then<br />
					 &emsp;&emsp;&emsp;&emsp;print("n is less than 15")<br />
					 elseif n < 20 then<br />
					 &emsp;&emsp;&emsp;&emsp;print("n is less than 20")<br />
					 else<br />
					 &emsp;&emsp;&emsp;&emsp;print("n is greater than or equal to 20")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					t is true<br />
					f is false<br />
					n is greater than or equal to 20<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:Conditional Operators"><h2 class="section_header">Conditional Operators</h2></a>
				</div>
				<p>Conditional tests may be performed by <code>if</code> statements, <code>while</code> loops and <code>repeat</code> loops to make decisions about what scripts to execute. Any values can be evaluated in a conditional test - non-boolean values may be evaluated in a boolean manner as follows:<ul></p>
				<p><li><code>false</code> boolean values, and <code>nil</code> values, evaluate to <code>false</code>.</li></p>
				<p><li>Any other value evaluates to <code>true</code> (including the number 0, which evaluates to <code>false</code> in C).</li></ul></p>
				<p>The logical operator <code>not</code> may be used to negate the result of a boolean - if passed a <code>true</code> value it returns <code>false</code>, and if passed a <code>false</code> value it returns <code>true</code>. The value returned by the <code>not</code> operator is always boolean, even if the value supplied was not. The statement <code>x = not not x</code> converts x to a boolean value, therefore.</p>
				<p>The logical operators <code>and</code> and <code>or</code> may be used to assess multiple boolean conditions together. The <code>and</code> operator returns <code>true</code> if both of the expressions passed to it evaluate to <code>true</code> themselves. The <code>or</code> operator returns the second value passed to it if the first evaluates to <code>false</code>, otherwise the first value is returned. Unlike <code>and</code>, <code>not</code> and other comparison operators, therefore, <code>or</code> can return something other than a boolean value. This can be useful for setting default values for a variable - see the example below.</p>
				<p>The lua interpreter reads forward when performing conditional tests, and will not evaluate expressions that it doesn't need to. For example, if the first expression passed to an <code>and</code> operator evaluates to <code>false</code> then the second is never evaluated. Likewise, if the first expression passed to an <code>or</code> operator evaluates to <code>true</code> then the second expression is never evaluated (and the first is returned). These constructs can both be useful in different ways - see the examples below.</p>
				<p>The <code>not</code> operator has precedence (meaning it gets evaluated first), followed by the <code>and</code> operator and finally the <code>or</code> operator. Parenthesis <code>()</code> can be used to override the natural order of precedence.</p>

				<h4>Example - Relying on conversion to boolean to test existence of value:</h4>
				<div id="example_code"><code>
					 num_value = 10<br />
					 <br />
					 -- A number of any value evaluates to true.<br />
					 -- This is akin to saying "if num_value has been set.."<br />
					 if num_value then<br />
					 &emsp;&emsp;&emsp;&emsp;print("num_value evaluates to true")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					num_value evaluates to true<br />
				</code></div>

				<h4>Example - Using 'not' to convert to boolean:</h4>
				<div id="example_code"><code>
					 num_value = 10<br />
					 <br />
					 print("not num_value: " .. not num_value)<br />
					 print("not not num_value: " .. not not num_value)<br />
				</code></div>
				<div id="example_result"><code>
					not num_value: false<br />
					not not num_value: true<br />
				</code></div>

				<h4>Example - and/or operator examples:</h4>
				<div id="example_code"><code>
					 t = true<br />
					 f = false<br />
					 <br />
					 if t and f then<br />
					 &emsp;&emsp;&emsp;&emsp;print("this should never get printed")<br />
					 end<br />
					 <br />
					 if t and not f then&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- "not f" evaluates to true<br />
					 &emsp;&emsp;&emsp;&emsp;print("this should get printed")<br />
					 end<br />
					 <br />
					 if t or f then<br />
					 &emsp;&emsp;&emsp;&emsp;print("either t or f is true")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					this should get printed<br />
					either t or f is true<br />
				</code></div>

				<h4>Example - Compound logical test of greater length, with parenthesis:</h4>
				<div id="example_code"><code>
					 t = true<br />
					 f = false<br />
					 <br />
					 if not (t and (not f or not t)) then<br />
					 &emsp;&emsp;&emsp;&emsp;print("???")<br />
					 else<br />
					 &emsp;&emsp;&emsp;&emsp;print("wha?")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					wha?<br />
				</code></div>

				<h4>Example - Using 'or' to set a default value during an assignment operation:</h4>
				<div id="example_code"><code>
					 function returns_nothing()<br />
					 &emsp;&emsp;&emsp;&emsp;-- do nothing<br />
					 end<br />
					 <br />
					 -- returns_nothing() evaluates to nil/false,<br />
					 -- so 'or' will return the second value here<br />
					 value = returns_nothing() or 1<br />
					 print("value is " .. tostring(value))<br />
				</code></div>
				<div id="example_result"><code>
					value is 1<br />
				</code></div>

				<h4>Example - Using 'and' to test existence or type before value of variable, to prevent errors :</h4>
					This example shows how the 'and' operator can be used in a serial to guard operations on values that might otherwise fail and cause script errors. Performing a numeric comparison such as > on a non-numeric value is illegal and would cause a script failure. This is prevented by the first expression which tests whether <code>value</code> is a number. If <code>value</code> is not a number, and the <code><a href="#function:lua:type">type</a></code> check returns <code>false</code>, lua will not proceed on to evaluate the second expression (containing the numeric comparison) as the interpreter is smart enough to realise that it can't affect the final result.
				<div id="example_code"><code>
					 function test_value(value)<br />
					 &emsp;&emsp;&emsp;&emsp;if type(value) == "number" and value > 10 then<br />
					 &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;print("value " .. tostring(value) .. " is a number > 10")<br />
					 &emsp;&emsp;&emsp;&emsp;else<br />
					 &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;print("value " .. tostring(value) .. " is not a number or a number <= 10")<br />
					 &emsp;&emsp;&emsp;&emsp;end<br />
					 end<br />
					 <br />
					 test_value(20)<br />
					 test_value("hello")<br />
					 test_value(false)<br />
				</code></div>
				<div id="example_result"><code>
					value 20 is a number > 10<br />
					value hello is not a number or a number <= 10<br />
					value false is not a number or a number <= 10<br />
				</code></div>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:lua:Standard Functions"><h2 class="section_header">Standard Functions</h2></a>
				</div>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:lua:print"><h3 class="function_name"><strong><code>print(... </strong></code><i class="parameter">values to print</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Prints one or more supplied values to the standard output. In Total War games, the standard output is the console. Non-string values passed to the function are cast to string before printing.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>values to print</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print("hello")&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- string<br />
								 print(5, 3)&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- two numbers<br />
								 print({})&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- a table<br />
							</code></div>
							<div id="example_result"><code>
								hello<br />
								5&emsp;&emsp;&emsp;&emsp;3<br />
								table: 0xb805do<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 172</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:lua:type"><h3 class="function_name"><strong><code>type(variable </strong></code><i class="parameter">variable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the type of a specified value as a string.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>variable</code></p>
									</td>
									<td>
										<p>variable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> type</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print(type(not_defined))<br />
								 print(type("hello"))<br />
								 print(type(5))<br />
								 print(type({}))<br />
							</code></div>
							<div id="example_result"><code>
								nil<br />
								string<br />
								number<br />
								table<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 183</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:lua:tostring"><h3 class="function_name"><strong><code>tostring(variable </strong></code><i class="parameter">variable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the specified value cast to a string. The specified value is unaffected.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>variable</code></p>
									</td>
									<td>
										<p>variable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> variable cast to string</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 value = 6<br />
								 value_as_string = tostring(value)<br />
								 print(value, type(value))<br />
								 print(value_as_string, type(value_as_string))<br />
							</code></div>
							<div id="example_result"><code>
								6&emsp;&emsp;&emsp;&emsp;number<br />
								6&emsp;&emsp;&emsp;&emsp;string<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 197</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:lua:tonumber"><h3 class="function_name"><strong><code>tonumber(variable </strong></code><i class="parameter">variable</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the specified string value cast to a number. This only works for string values that contain numeric characters (e.g. "65"). If the supplied value is a string that does not contain numeric characters, or is any other value other than a number then <code><a href="#">nil</a></code> is returned.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>variable</code></p>
									</td>
									<td>
										<p>variable</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">number</a></code></code> variable cast to number</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 numeric_str_value = "26"<br />
								 non_numeric_str_value = "hello"<br />
								 number_value = 18<br />
								 boolean_value = true<br />
								 table_value = {}<br />
								 print(tonumber(numeric_str_value), tonumber(non_numeric_str_value), tonumber(number_value), tonumber(boolean_value), tonumber(table_value))<br />
							</code></div>
							<div id="example_result"><code>
								26&emsp;&emsp;&emsp;&emsp;nil&emsp;&emsp;&emsp;&emsp;18&emsp;&emsp;&emsp;&emsp;nil&emsp;&emsp;&emsp;&emsp;nil<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 209</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:lua:loadstring"><h3 class="function_name"><strong><code>loadstring(<code><a href="#">string</a></code> </strong></code><i class="parameter">lua string</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns an executable function created from a string. This string may be constructed manually, or generated by another function such as <code><a href="#function:string:dump">string.dump</a></code>. When the returned function is executed the lua script contained within the specified string is run.<br />
							Use this function sparingly. See external documentation for more information.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>lua string</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">function</a></code></code> lua function</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 function test_func()<br />
								 &emsp;&emsp;&emsp;&emsp;print("hello");<br />
								 end;<br />
								 <br />
								 local str_a = string.dump(test_func);<br />
								 local str_b = "print(\"123\")";<br />
								 <br />
								 func_a = loadstring(str_a);<br />
								 func_b = loadstring(str_b);<br />
								 <br />
								 func_a()<br />
								 func_b()<br />
							</code></div>
							<div id="example_result"><code>
								hello<br />
								123<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 222</p>
						</dd>
					</dl>
				</div>

				<hr class="superblock_divider" />


				<a name="class:nil"><h1 class="content_header">Nil</h1></a>
				<p>The data type <code>nil</code> represents the absence of a value in lua. <code>nil</code> is both the name of the type and also the only value that a variable of that type can take. All variables contain the value <code>nil</code>, and are of type <code>nil</code>, before they are declared. Assigning <code>nil</code> to a variable is the same as deleting it.</p>
				<p><code>nil</code> values resolve to <code>false</code> when considered in a logical expression.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 print("no_value has a value of " .. tostring(no_value) .. " and is of type " .. type(no_value))<br />
					  <br />
					 some_value = 6<br />
					 some_value = nil &emsp;&emsp;&emsp;&emsp;-- deleting<br />
					 if not some_value then<br />
					 &emsp;&emsp;&emsp;&emsp;print("some_value is false or nil")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					no_value has a value of nil and is of type nil<br />
					some_value is false or nil<br />
				</code></div>
				<hr class="superblock_divider" />


				<a name="class:boolean"><h1 class="content_header">Booleans</h1></a>
				<p>Boolean values may be either <code>true</code> or <code>false</code>. Boolean values are of most use when evaluated by language structures such as <code>if</code> statements and <code>while</code> loops that perform logical tests and take action based on the result. The logical operators <code>and</code>, <code>or</code> and <code>not</code> can be used to evaluate booleans.</p>
				<p>See the section on <code><a href="#section:lua:Conditional Operators">Conditional Operators</a></code> for more information.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 t = true<br />
					 <br />
					 -- must use tostring as the .. concatenation operator wont work with booleans<br />
					 print("t is " .. tostring(t) .. " and of type " .. type(t))<br />
					 <br />
					 f = 6 > 7&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- logical expression evaluates to false<br />
					 <br />
					 print("f is " .. tostring(f))<br />
					 print("not f is " .. tostring(not f))<br />
					 print("f and t is " .. tostring(f or t))<br />
					 if f or t then<br />
					 &emsp;&emsp;&emsp;&emsp;print("f or t must be true!")<br />
					 end<br />
				</code></div>
				<div id="example_result"><code>
					t is true and of type boolean<br />
					f is false<br />
					not f is true<br />
					f and t is true<br />
					f or t must be true!<br />
				</code></div>
				<hr class="superblock_divider" />


				<a name="class:number"><h1 class="content_header">Numbers</h1></a>
				<p>Numeric values in lua are real, so they may contain decimal places. There is no integer numeric type. The default lua language specification sets numbers to be stored as double-precision floats. At time of writing, however, numbers in Total War's implementation of lua are stored as single-precision floats, which offer only about 7 digits of precision. Scripters should be aware of this limitation when planning scripts that may potentially have to deal with very large or precise numbers.</p>
				<p>Number values can be added, subtracted, multiplied and divided with the +, -, * and / operators respectively. Exponents may be expressed with the ^ operator.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 a = 5<br />
					 b = a + 10<br />
					 c = b * 2<br />
					 d = c / 10<br />
					 e = a ^ d<br />
					 print(a, b, c, d, e)<br />
				</code></div>
				<div id="example_result"><code>
					5&emsp;&emsp;&emsp;&emsp;15&emsp;&emsp;&emsp;&emsp;30&emsp;&emsp;&emsp;&emsp;3.0&emsp;&emsp;&emsp;&emsp;125.0<br />
				</code></div>
				<hr class="superblock_divider" />


				<a name="class:string"><h1 class="content_header">Strings</h1></a>
				<p>Strings are variables containing representations of text. A string may be specified by enclosing a value in matching single or double quotes. A string can be zero, one or more characters long, with no upper limit beyond the amount of memory available.</p>
				<p>Strings may be joined together using the concatenation operator, <code>..</code>.</p>

				<h4>Example:</h4>
				<div id="example_code"><code>
					 str_a = "hello"<br />
					 str_b = "world"<br />
					 print(str_a .. " " .. str_b)<br />
				</code></div>
				<div id="example_result"><code>
					hello world<br />
				</code></div>

				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:string:String Patterns"><h2 class="section_header">String Patterns</h2></a>
				</div>
				<p>Some of the string functions described in the next section make use of string patterns, a method of matching sequences of characters akin to regular expressions. More information about lua string patterns may be found on <code>lua-users.org</code> <a href="http://lua-users.org/wiki/PatternsTutorial">here</a>.</p>
				<div class="section_body">
				</div>


				<div>
					<a style="float:right;" href="#top">Back to top</a>
					<a name="section:string:String Library"><h2 class="section_header">String Library</h2></a>
				</div>
				<p>Lua provides a number of operations that can be performed on strings, listed below. More detailed information about these functions may be found on the dedicated page on <code>lua-users.org</code> <a href="http://lua-users.org/wiki/StringLibraryTutorial">here</a>.</p>
				<p>The functions may be called in the form <code>string.&lt;function&gt;(&lt;string&gt;, &lt;arguments&gt;)</code>, or <code>&lt;string&gt;:&lt;function&gt;(&lt;arguments&gt;)</code> where appropriate.</p>
				<div class="section_body">
					<dl class="function">
						<dt>
							<a name="function:string:byte"><h3 class="function_name"><strong><code>string.byte([<code><a href="#">number</a></code> </strong></code><i class="parameter">first char</i><code><strong>], [<code><a href="#">number</a></code> </strong></code><i class="parameter">last char</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns the numerical code corresponding to the characters of a specified portion of the string. The portion of the string is specified by index positions of the start and end characters.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=1</i></p>
										<p>Position of first character in the substring. If this is not a valid character index for this string then <code><a href="#">nil</a></code> is returned.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=1</i></p>
										<p>Position of last character in the substring. If the first character position is specified and this is not, then this is set to the value of the first character position (so that only one character is returned).</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>...</code> <code><a href="#">number</a></code> character value(s)</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print(string.byte("hello"))&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- prints first character by default<br />
								 print(string.byte("hello", 4))&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-- print single character<br />
								 print(string.byte("hello", 1, 3))&emsp;&emsp;&emsp;&emsp;-- prints range of characters<br />
							</code></div>
							<div id="example_result"><code>
								104<br />
								108<br />
								104&emsp;&emsp;&emsp;&emsp;101&emsp;&emsp;&emsp;&emsp;108<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 355</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:char"><h3 class="function_name"><strong><code>string.char(... </strong></code><i class="parameter">character values</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a string constructed from the specified numeric character values. Number character values can be obtained with <code><a href="#function:string:byte">string.byte</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>Vararg of <code><a href="#">number</a></code> character values.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print(string.char(104, 101, 108, 108, 111))<br />
							</code></div>
							<div id="example_result"><code>
								hello<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 368</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:dump"><h3 class="function_name"><strong><code>string.dump(<code><a href="#">function</a></code> </strong></code><i class="parameter">function</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a string representation of a supplied function, which can later be passed to the <code><a href="#function:lua:loadstring">loadstring</a></code> function to be reconstituted as an executable function.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">function</a></code></code></p>
									</td>
									<td>
										<p>function</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> string representation</li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 375</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:find"><h3 class="function_name"><strong><code>string.find(<code><a href="#">string</a></code> </strong></code><i class="parameter">string</i><code><strong>, <code><a href="#">string</a></code> </strong></code><i class="parameter">substring</i><code><strong>, [start </strong></code><i class="parameter">index</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns the position of the first occurrence of a supplied substring in the subject string. If the supplied substring is found within the subject string then the start and end character positions of the substring are returned. <code><a href="#">nil</a></code> is returned if the substring is not found.<br />
							Note that the standard lua version of this function supports pattern-matching. The implementation of this function in Total War does not, as it has been rewritten to be fully utf8-compliant. Use <code><a href="#function:string:match">string.match</a></code> to search by pattern.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Subject string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>String pattern to search for.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code>start</code></p>
									</td>
									<td>
										<p><i>optional, default value=1</i></p>
										<p>Position of character at which to start the search. Supply a negative number to specify a character from the end of the string, counting back.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 381</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:format"><h3 class="function_name"><strong><code>string.format(<code><a href="#">string</a></code> </strong></code><i class="parameter">container string</i><code><strong>, ... </strong></code><i class="parameter">values to insert</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a formatted string from the formatting string and then arguments provided, in a similar style to the C function <code>printf</code>. The formatting string may contain the following special characters:<br />
							<table class="simple"><tr><th>Character</th><th>Data Type</th><th>Description</th></tr><br />
							<tr><td><code>%c</code></td><td><code><a href="#">number</a></code> (character code)</td><td>The supplied numerical character code (see <code><a href="#function:string:byte">string.byte</a></code>) will be converted into its string representation.</td></tr>

							<tr><td><code>%d</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied integer, to be preceded by up to up to seven leading zeroes, the number of which may optionally be specified alongside the special character e.g. <code>%04d</code>. If no number is specified then the integer is included in the returned string as it was given.</td></tr>

							<tr><td><code>%e</code></td><td><code><a href="#">number</a></code></td><td>The supplied number will be formatted as an exponent, with the output in lower-case.</td></tr>

							<tr><td><code>%E</code></td><td><code><a href="#">number</a></code></td><td>The supplied number will be formatted as an exponent, with the output in upper-case.</td></tr>

							<tr><td><code>%f</code></td><td><code><a href="#">number</a></code></td><td>The specified number will be formated as a floating-point value. A specific format for the number may optionally be specified alongside the special character e.g. %4.1f would specify that the floating point number should be formatted with four digits preceding the decimal point and one digit following it.</td></tr>

							<tr><td><code>%g</code></td><td><code><a href="#">number</a></code></td><td>The specified number will be formated as a compact floating-point value, or as an exponent (if too many digits) in lower-case.</td></tr>

							<tr><td><code>%G</code></td><td><code><a href="#">number</a></code></td><td>The specified number will be formated as a compact floating-point value, or as an exponent (if too many digits) in upper-case.</td></tr>

							<tr><td><code>%i</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied integer value will be formatted as a signed integer.</td></tr>

							<tr><td><code>%o</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied integer value will be formatted as an octal value.</td></tr>

							<tr><td><code>%q</code></td><td><code><a href="#">string</a></code></td><td>The supplied string will be enclosed in strings (as a quotation) when returned.</td></tr>

							<tr><td><code>%s</code></td><td><code><a href="#">string</a></code></td><td>A string value.</td></tr>

							<tr><td><code>%u</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied value will be formatted as an unsigned integer.</td></tr>

							<tr><td><code>%x</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied value will be formatted as a hexadecimal integer in lower-case.</td></tr>

							<tr><td><code>%X</code></td><td><code><a href="#">number</a></code> (integer)</td><td>The supplied value will be formatted as a hexadecimal integer in upper-case.</td></tr></table>

							The function will throw an error if it's unable to convert the number specified into an integer value (should one be expected).

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>String containing special characters to insert values into.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code>...</code></p>
									</td>
									<td>
										<p>One or more values to insert into the container string, in the order that the special characters are found.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> result</li>
							</ol>

							<h4>Example - Inserting character codes with %c:</h4>
							<div id="example_code"><code>
								 local str = string.format("hello %c %c %c, pleased to meet you", 65, 66, 67)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								hello A B C, pleased to meet you<br />
							</code></div>

							<h4>Example - Specifying the string length of an integer with %d:</h4>
							<div id="example_code"><code>
								 local str = string.format("These integers will be displayed with at least 5 digits: %05d %05d %05d", 12, 1234, 123456)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								These integers will be displayed with at least 5 digits: 00012 01234 123456<br />
							</code></div>

							<h4>Example - Lower/Upper-case exponents with %e and %E:</h4>
							<div id="example_code"><code>
								 local str = string.format("Exponents: %e %E", 1234.56, 1234.56)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								Exponents: 1.234560e+03 1.234560E+03<br />
							</code></div>

							<h4>Example - Floating point values with %f:</h4>
							<div id="example_code"><code>
								 local str = string.format("Floating point values: %f %3.1f", 123456.78, 123456.78)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								Floating point values: 123456.780000 123456.8<br />
							</code></div>

							<h4>Example - Compact floating point values with %g and %G:</h4>
							<div id="example_code"><code>
								 local str = string.format("Compact floating point values: %g %g %G", 123456, 12345678, 12345678)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								Compact floating point values: 123456 1.23457e+07 1.23457E+07<br />
							</code></div>

							<h4>Example - Signed, Unsigned, Octal and Hexadecimal integers:</h4>
							<div id="example_code"><code>
								 local str = string.format("Signed: %i, Unsigned: %u, Octal: %o, Hex: %x", -100, -100, -100, -100)<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								Signed: -100, Unsigned: 4294967196, Octal: 37777777634, Hex: ffffff9c<br />
							</code></div>

							<h4>Example - Strings:</h4>
							<div id="example_code"><code>
								 local str = string.format("Unquoted: %s, quoted: %q", "test", "test")<br />
								 print(str)<br />
							</code></div>
							<div id="example_result"><code>
								Unquoted: test, quoted: "test"<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 389</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:gmatch"><h3 class="function_name"><strong><code>string.gmatch(<code><a href="#">string</a></code> </strong></code><i class="parameter">subject string</i><code><strong>, <code><a href="#">string</a></code> </strong></code><i class="parameter">pattern</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns a pattern-finding iterator. More information about iterators and lua string patterns may be found externally - see <code><a href="#section:string:String Patterns">String Patterns</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>subject string</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>pattern</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>iterator</code> </li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 local str = "This is a test string"<br />
								 local wordcount = 0<br />
								 for word in string.gmatch(str, "%a+") do<br />
								   wordcount = wordcount + 1<br />
								 end<br />
								 print(string.format("%q contains %d words", str, wordcount))<br />
							</code></div>
							<div id="example_result"><code>
								"This is a test string" contains 5 words<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 440</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:gsub"><h3 class="function_name"><strong><code>string.gsub(<code><a href="#">string</a></code> </strong></code><i class="parameter">subject</i><code><strong>, <code><a href="#">string</a></code> </strong></code><i class="parameter">pattern</i><code><strong>, <code><a href="#">string</a></code> </strong></code><i class="parameter">replacement</i><code><strong>, [<code><a href="#">number</a></code> </strong></code><i class="parameter">count</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							This function takes a subject string, a pattern string and a replacement string, and performs a search based on the pattern string within the subject string. Should any parts of the pattern match, those parts of the subject string are replaced with the replacement string. The resulting string is then returned. An optional count argument may also be specified to limit the number of pattern replacements that may be performed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Subject string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Pattern string. More information about lua patterns may be found here: <code><a href="#section:string:String Patterns">String Patterns</a></code></p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Replacement string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>4</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Maximum number of times the replacement can be performed. If left unset, then no maximum is applied.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> result</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 -- replace all spaces with underscores<br />
								 result = string.gsub("this is a test string", " ", "_")<br />
								 print(result)<br />
							</code></div>
							<div id="example_result"><code>
								this_is_a_test_string<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 454</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:len"><h3 class="function_name"><strong><code>string.len(<code><a href="#">string</a></code> </strong></code><i class="parameter">input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the number of characters in the supplied string.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">number</a></code></code> length</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 str = "hello"<br />
								 print(str:len())<br />
							</code></div>
							<div id="example_result"><code>
								5<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 467</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:lower"><h3 class="function_name"><strong><code>string.lower(<code><a href="#">string</a></code> </strong></code><i class="parameter">input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the supplied string, converted to lowercase.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> converted string</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 str = "A Test String"<br />
								 print(string.lower(str))<br />
							</code></div>
							<div id="example_result"><code>
								a test string<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 476</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:match"><h3 class="function_name"><strong><code>string.match(<code><a href="#">string</a></code> </strong></code><i class="parameter">subject</i><code><strong>, <code><a href="#">string</a></code> </strong></code><i class="parameter">pattern</i><code><strong>, [<code><a href="#">number</a></code> </strong></code><i class="parameter">start character</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns a substring of the supplied string, by a supplied pattern. An optional index may also be used to specify a character at which the search should be started.<br />
							More information about patterns may be found here: <code><a href="#section:string:String Patterns">String Patterns</a></code>.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Subject string to search.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Search pattern.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=1</i></p>
										<p>Start character within the subject string.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> matching string</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 str = "THIS WORD here IS LOWERCASE"<br />
								 print(string.match(str, "%l+"))<br />
							</code></div>
							<div id="example_result"><code>
								here<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 485</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:rep"><h3 class="function_name"><strong><code>string.rep(<code><a href="#">string</a></code> </strong></code><i class="parameter">source</i><code><strong>, <code><a href="#">number</a></code> </strong></code><i class="parameter">count</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Generates and returns a string which is a supplied number of copies of the supplied string, all concatenated together.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>source</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p>count</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> result</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print(string.rep("test", 3))<br />
							</code></div>
							<div id="example_result"><code>
								testtesttest<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 497</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:reverse"><h3 class="function_name"><strong><code>string.reverse(<code><a href="#">string</a></code> </strong></code><i class="parameter">input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the supplied string with the character order reversed.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> reversed string</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 print(string.reverse("forward"))<br />
							</code></div>
							<div id="example_result"><code>
								drawrof<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 506</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:sub"><h3 class="function_name"><strong><code>string.sub(<code><a href="#">string</a></code> </strong></code><i class="parameter">input</i><code><strong>, <code><a href="#">number</a></code> </strong></code><i class="parameter">start index</i><code><strong>, [<code><a href="#">number</a></code> </strong></code><i class="parameter">end index</i><code><strong>])</code></strong></h3></a>
						</dt>
						<dd>
							Returns a section of the supplied string, specified by start and (optionally) end character positions. The substring will include the characters specified by the start and end positions.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>Subject string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>2</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p>Position of the starting character of the substring. If a negative number is specified then the function counts back from the end of the string.</p>
									</td>
								</tr>
								<tr>
									<td>
										<p><strong>3</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">number</a></code></code></p>
									</td>
									<td>
										<p><i>optional, default value=nil</i></p>
										<p>Position of the end character of the desired substring. If omitted, then the end of the supplied string is used as the end of the substring. If a negative number is specified then the function counts back from the end of the string to find this character.</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code>nil</code></li>
							</ol>

							<h4>Example - From character 11 until the end:</h4>
							<div id="example_code"><code>
								 str = "this is a test string"<br />
								 print(string.sub(str, 11))<br />
							</code></div>
							<div id="example_result"><code>
								test string<br />
							</code></div>

							<h4>Example - From characters 11 through to 14 :</h4>
							<div id="example_code"><code>
								 str = "this is a test string"<br />
								 print(string.sub(str, 11, 14))<br />
							</code></div>
							<div id="example_result"><code>
								test<br />
							</code></div>

							<h4>Example - From 13 characters from the end, onwards:</h4>
							<div id="example_code"><code>
								 str = "this is a test string"<br />
								 print(string.sub(str, -13))<br />
							</code></div>
							<div id="example_result"><code>
								a test string<br />
							</code></div>

							<h4>Example - From 13 characters from the end until 9 from the start:</h4>
							<div id="example_code"><code>
								 str = "this is a test string"<br />
								 print(string.sub(str, -13, 9))<br />
							</code></div>
							<div id="example_result"><code>
								a<br />
							</code></div>

							<h4>Example - From 13 characters from the end until 8 from the end:</h4>
							<div id="example_code"><code>
								 str = "this is a test string"<br />
								 print(string.sub(str, -13, -8))<br />
							</code></div>
							<div id="example_result"><code>
								a test<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 514</p>
						</dd>
					</dl>
					<dl class="function">
						<dt>
							<a name="function:string:upper"><h3 class="function_name"><strong><code>string.upper(<code><a href="#">string</a></code> </strong></code><i class="parameter">input</i><code><strong>)</code></strong></h3></a>
						</dt>
						<dd>
							Returns the supplied string, converted to uppercase.

							<h4>Parameters:</h4>
							<table class="parameter_list">
								<colgroup>
									<col style="width: 3%;">
									<col style="width: 12%;">
									<col style="width: 85%;">
								</colgroup>
								<tr>
									<td>
										<p><strong>1</strong></p>
									</td>
									<td>
										<p><code><code><a href="#">string</a></code></code></p>
									</td>
									<td>
										<p>input</p>
									</td>
								</tr>
							</table>

							<h4>Returns:</h4>
							<ol>
								<li><code><code><a href="#">string</a></code></code> converted string</li>
							</ol>

							<h4>Example:</h4>
							<div id="example_code"><code>
								 str = "A Test String"<br />
								 print(string.upper(str))<br />
							</code></div>
							<div id="example_result"><code>
								A TEST STRING<br />
							</code></div>
							<p class="file_comment">defined in ../working_data/script/_lib/lib_lua_extensions.lua, line 541</p>
						</dd>
					</dl>
				</div>

				<hr class="superblock_divider" />


				<a name="class:function"><h1 class="content_header">Functions</h1></a>
				<p>Blurb about functions</p>
				<hr class="superblock_divider" />


				<a name="class:table"><h1 class="content_header">Tables</h1></a>
				<p>Blurb about tables</p>
				<hr class="superblock_divider" />


				<a name="class:userdata"><h1 class="content_header">Userdata</h1></a>
				<p>Blurb about userdata</p>

			</div>

		</div>

		<div id="about">Last updated 25/08/2021 12:07:51</div>

	</div>

	<script src="../searchdata.js"></script>
	<script src="../search.js"></script>
	<script>const page_env = "Frontend"; const path_to_document_root = "../";</script>

</body>
</html>